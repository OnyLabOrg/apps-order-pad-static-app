import{$ as s}from"./TranslationUtil-DA_yhvY0.js";import{d as k,r as _,g as C,f as n,o as b,b as t,e as F,t as f,v as u,m as r,bb as w,c as B,aV as E,F as N,i as T,ah as D}from"./index-mjaQph9Z.js";import{_ as I}from"./AppTextField.vue_vue_type_script_setup_true_lang-DCN0DUrj.js";import{_ as j}from"./AppSelect.vue_vue_type_script_setup_true_lang-Dh9myR8U.js";import{c as x}from"./common-api.web.min-rTQUY9Dn.js";import{u as L}from"./account-MJJ6ZGF7.js";import{V as c,a as d}from"./VRow-9xlgg9rK.js";import{V as H,a as X,c as Y}from"./VCard-BFK03wST.js";import{V as q}from"./VCardText-CcLi0pYM.js";import{V as z}from"./VForm-FMyScISc.js";import{V as G}from"./VRangeSlider-_LcPXwlA.js";import{V as A}from"./VSpacer-DO9424Ty.js";const J={class:"text-body-1 mb-0"},K={class:"mx-2"},g=0,v=50,de=k({__name:"setting-order-delivery-fee",setup(O){var h;const y=((h=L().getCurrentAccount)==null?void 0:h.currency)??x.Api.HubriseCurrencyCode.EUR,R=[{id:"radius",name:"Radius"}],p=_("radius"),a=_([{range:[g,v],amount:0}]),$=_(!1),U=(e,i)=>{if(Array.isArray(i)){for(let l=e;l>0;l--)typeof a.value[l-1]=="object"&&(a.value[l-1].range[0]=Math.min(a.value[l-1].range[0],a.value[l].range[0]),a.value[l-1].range[1]=Math.max(a.value[l-1].range[0],a.value[l].range[0]));for(let l=e;l<a.value.length-1;l++)typeof a.value[l+1]=="object"&&(a.value[l+1].range[0]=Math.min(a.value[l+1].range[1],a.value[l].range[1]),a.value[l+1].range[1]=Math.max(a.value[l+1].range[1],a.value[l].range[1]));e===0&&i[0]>g?a.value[e].range[0]=g:e===a.value.length-1&&i[1]<v&&a.value.push({range:[i[1],v],amount:0})}},S=()=>{$.value=!0,a.value=a.value.filter(e=>e.range[0]<e.range[1])};return(e,i)=>{const l=j,M=I;return b(),C(c,null,{default:n(()=>[t(d,{cols:"12"},{default:n(()=>[t(H,null,{default:n(()=>[t(X,null,{default:n(()=>[t(Y,{class:"mb-1"},{default:n(()=>[f(u(("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.title")),1)]),_:1}),F("p",J,u(("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.subtitle")),1)]),_:1}),t(q,null,{default:n(()=>[t(z,{onSubmit:w(S,["prevent"])},{default:n(()=>[t(c,{class:"pt-6"},{default:n(()=>[t(d,{cols:"12",md:"4"},{default:n(()=>[t(l,{modelValue:r(p),"onUpdate:modelValue":i[0]||(i[0]=o=>E(p)?p.value=o:null),items:R,label:("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.field.type.label"),"item-title":"name","item-value":"id"},null,8,["modelValue","label"])]),_:1})]),_:1}),(b(!0),B(N,null,T(r(a),(o,V)=>(b(),C(c,{key:V},{default:n(()=>[t(d,{cols:"12",md:"1"},{default:n(()=>[f(u(("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.field.radius.label",{count:V+1})),1)]),_:2},1024),t(d,{class:"text-right",cols:"0",md:"1"},{default:n(()=>[f(u(("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.field.radius.distance",{distance:o.range[0]})),1)]),_:2},1024),t(d,{class:"d-inline-flex",cols:"12",md:"6"},{default:n(()=>[t(G,{modelValue:o.range,"onUpdate:modelValue":[m=>o.range=m,m=>U(V,m)],max:v,min:g,step:"0.1"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(d,{class:"text-left",cols:"0",md:"1"},{default:n(()=>[f(u(("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.field.radius.distance",{distance:o.range[1]})),1)]),_:2},1024),t(d,{class:"d-inline-flex",cols:"12",md:"3"},{default:n(()=>[t(A),t(M,{modelValue:o.amount,"onUpdate:modelValue":m=>o.amount=m,clearable:!1,label:("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.field.amount.label",{currency:r(y)}),max:"50",min:"0",type:"number"},null,8,["modelValue","onUpdate:modelValue","label"]),F("span",K,u(r(y)),1)]),_:2},1024)]),_:2},1024))),128)),t(c,null,{default:n(()=>[t(d,{class:"d-flex flex-wrap gap-4",cols:"12"},{default:n(()=>[t(A),t(D,{disabled:!r(p)||r(a).length===0,loading:r($),type:"submit"},{default:n(()=>[f(u(("$t"in e?e.$t:r(s))("page.setting.order.deliveryFee.button.save")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{de as _};
