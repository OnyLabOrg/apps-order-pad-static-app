import{$ as _}from"./TranslationUtil-BdnaPujx.js";import{u as A,_ as N,a as P}from"./useAbility-DcoMr4k9.js";import{C as U}from"./vue3-perfect-scrollbar-CCsaJAmP.js";import{u as B,l as S}from"./Http-CKI8smRO.js";import{d as D,j as z,b4 as j,c as l,o as r,b as t,g as n,l as F,m as e,f as o,$ as c,e as v,t as u,v as m,F as d,i as T,b5 as q,q as E}from"./index-Bw4y1h4i.js";import{V}from"./VImg-BsAX8SC-.js";import{V as M}from"./VMenu-CglqZkXQ.js";import{V as R,a as p,b as y,d as G}from"./VList-B-lIdRXB.js";import{V as H}from"./VListItemAction-DN3dO-qf.js";import{V as g}from"./VAvatar-DiquInPv.js";import{V as J}from"./VBadge-BPRngGfk.js";import{V as b}from"./VDivider-DaSun1jY.js";const K={class:"d-flex gap-2 align-center"},ie=D({__name:"UserProfile",setup(O){const k=z(),x=A(),C=B(),a=j("userData"),h=()=>{const i=C.getCurrentUser;return i===void 0?_("header.user.defaultName"):[i.first_name,i.last_name].filter(f=>f!==void 0).join(" ")},I=async()=>{await S(k,x)},L=[];return(i,f)=>{const $=N,w=P;return r(),l(d,null,[t($),t(w),e(a)?(r(),n(g,{key:0,color:e(a)&&e(a).avatar?void 0:"primary",variant:e(a)&&e(a).avatar?void 0:"tonal",class:"cursor-pointer",size:"38"},{default:o(()=>[e(a)&&e(a).avatar?(r(),n(V,{key:0,src:e(a).avatar},null,8,["src"])):(r(),n(c,{key:1,icon:"bx-user"})),t(M,{activator:"parent",location:"bottom end",offset:"20px",width:"240"},{default:o(()=>[t(R,null,{default:o(()=>[t(p,null,{default:o(()=>[v("div",K,[t(H,null,{default:o(()=>[t(g,{color:e(a)&&e(a).avatar?void 0:"primary",variant:e(a)&&e(a).avatar?void 0:"tonal"},{default:o(()=>[e(a)&&e(a).avatar?(r(),n(V,{key:0,src:e(a).avatar},null,8,["src"])):(r(),n(c,{key:1,icon:"bx-user"}))]),_:1},8,["color","variant"])]),_:1}),v("div",null,[t(y,{class:"font-weight-medium"},{default:o(()=>[u(m(h()),1)]),_:1}),t(G,{class:"text-disabled text-capitalize"})])])]),_:1}),t(e(U),{options:{wheelPropagation:!1}},{default:o(()=>[(r(),l(d,null,T(L,s=>(r(),l(d,{key:s.title},[s.type==="navItem"?(r(),n(p,{key:0,to:s.to},q({prepend:o(()=>[t(c,{icon:s.icon,size:"22"},null,8,["icon"])]),default:o(()=>[t(y,null,{default:o(()=>[u(m(s.title),1)]),_:2},1024)]),_:2},[s.badgeProps?{name:"append",fn:o(()=>[t(J,E({class:"me-3",rounded:"",ref_for:!0},s.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(r(),n(b,{key:1,class:"my-1"}))],64))),64)),t(b,{class:"my-1"}),t(p,{"prepend-icon":"bx-power-off",onClick:I},{default:o(()=>[u(m(("$t"in i?i.$t:e(_))("header.user.logout")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])):F("",!0)],64)}}});export{ie as _};
