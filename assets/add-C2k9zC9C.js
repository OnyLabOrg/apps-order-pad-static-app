import{D as Ve,$ as rl,c as $,u as sl,a as ul,b as cl,d as pl,_ as ml,e as he,f as n,g as N,h as Ge,i as Xe}from"./usePageTitle-DCOb2dVh.js";import{d as fl,r as c,X as vl,G as yl,ai as gl,c as j,e as V,b as l,v as p,m as o,f as t,ah as B,a as bl,o as E,t as g,di as v,g as K,$ as O,F as Ae,i as Ze,l as M,aZ as $l,H as Vl}from"./index-0gbIf0HW.js";import{_ as hl}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-BfLHsJqy.js";import{_ as Al}from"./AppTextarea.vue_vue_type_script_setup_true_lang-6IxGUXNb.js";import{_ as Cl}from"./AppSelect.vue_vue_type_script_setup_true_lang-DR630Ahd.js";import{_ as Tl}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-BmlVbqVa.js";import{_ as kl}from"./AppTextField.vue_vue_type_script_setup_true_lang-BaxRn2gJ.js";import{_ as El}from"./AppCombobox.vue_vue_type_script_setup_true_lang-BgSO8CWL.js";import{$ as Je}from"./api-CQqhIwQi.js";import{V as T,a as i}from"./VRow-B_ftAYAy.js";import{V as Ce,c as Te}from"./VCard-jkIyw6r1.js";import{V as ke}from"./VCardText-BUqeQB-C.js";import{V as Qe}from"./VCheckbox-ChJvwcu6.js";import{a as wl,V as Ee}from"./VTabs-CFq0GEUN.js";import{V as Ul,a as we}from"./VWindowItem--IE1_O8m.js";import{V as _l}from"./VTextField-BqKfigra.js";import{V as Ue}from"./VSpacer-CE3knd5R.js";import{_ as Sl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VSelect-DWZC01zW.js";import"./form-D4RA87Ol.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-4eLNMYsQ.js";import"./ssrBoot-DhNcep9Q.js";import"./VImg-B-FFDCR2.js";import"./VAvatar-BhOXCv8m.js";import"./VDivider-C2GoLMsu.js";import"./dialog-transition-B-G9dX-A.js";import"./easing-Bybner-F.js";import"./VMenu-C1eo9LY5.js";import"./VOverlay-BhgEmsmD.js";import"./delay-Cj8_CW7Y.js";import"./lazy-Bj7oWPgH.js";import"./scopeId-Cro7dkgz.js";import"./VCheckboxBtn-xuZTYLtc.js";import"./VSelectionControl-BUUuxVxF.js";import"./VChip-Dmr_-o6G.js";import"./VSlideGroup-CIIJEZj9.js";import"./filter-TKSog9hL.js";/* empty css                   */import"./VCounter-CzeeICEg.js";import"./VField-Cq_9ResG.js";import"./VInput-DTMystpM.js";import"./index-CvOPxmL5.js";/* empty css              */const Il={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},Ll={class:"d-flex flex-column justify-center"},Dl={class:"text-h4 mb-1"},Nl={class:"text-body-1"},Kl={class:"d-flex gap-4 align-center flex-wrap"},Pl={class:"pe-3"},Hl={class:"text-truncate font-weight-medium text-start"},Ol={class:"text-truncate font-weight-medium text-start"},Rl={class:"text-truncate font-weight-medium text-start"},Fl={class:"ps-md-3"},Yl={class:"ps-md-3"},ql={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},jl={class:"flex-grow-1"},Bl={class:"flex-grow-1"},Ml={class:"ps-md-3"},zl={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},Wl={class:"flex-grow-1"},Gl={class:"flex-grow-1"},Xl={class:"mt-5"},xe=1e3,Zl=fl({__name:"add",setup(Jl){const Z=[{from:"1900-01-01",to:Ve.local().minus({days:1}).toISODate()}],_e=rl("common.country"),Se=Object.keys(_e).map(e=>{var a,s;return{code:e,label:(s=(a=_e[e])==null?void 0:a.body)==null?void 0:s.static}}).filter(e=>e.label!==void 0),C=c(),J=c(),U=c();let Ie=[],D=[],Q={},w={};const _=c([{}]),x=c(),ee=c(),le=c(),ae=c(),oe=c(),R=c(),te=c(!0),de=c(),ne=c(!0),I=c($.Api.HubriseServiceType.DELIVERY),ie=Ve.local().toISODate(),re=Ve.local().toISOTime({suppressSeconds:!0,suppressMilliseconds:!0,includeOffset:!1}),se=c(ie),ue=c(re),Le=c(!1),ce=c(),F=c(),P=c(),z=c(),Y=c(),q=c(),L=c(),pe=c(),me=c(),fe=c(),ve=c(ie),ye=c(re),ge=c(ie),be=c(re),$e=c(),H=c(!1),el=()=>{_.value===void 0||_.value===null||(_.value=_.value.filter(e=>{var a;return e.options=(a=e.options)==null?void 0:a.filter(s=>"id"in s&&s.id!==void 0&&s.id!==null),"id"in e&&e.id!==void 0&&e.id!==null}))},De=()=>{var s,m,y,h,S,r;let e;switch(I.value){case $.Api.HubriseServiceType.DELIVERY:e=he(se.value,ue.value,(m=(s=C.value)==null?void 0:s.timezone)==null?void 0:m.name);break;case $.Api.HubriseServiceType.COLLECTION:e=he(ve.value,ye.value,(h=(y=C.value)==null?void 0:y.timezone)==null?void 0:h.name);break;case $.Api.HubriseServiceType.EAT_IN:e=he(ge.value,be.value,(r=(S=C.value)==null?void 0:S.timezone)==null?void 0:r.name);break}const a={first_name:le.value,last_name:ae.value,company_name:oe.value,email:de.value,email_marketing:ne.value,phone:R.value,sms_marketing:te.value};return I.value===$.Api.HubriseServiceType.DELIVERY&&(a.address_1=P.value,a.address_2=z.value,a.postal_code=q.value,a.city=Y.value,a.country=L.value,a.latitude=pe.value,a.longitude=me.value,a.delivery_notes=fe.value??void 0),{service_type:I.value,table_name:$e.value??void 0,expected_time:e??void 0,customer:a,items:_.value,customer_notes:x.value,seller_notes:ee.value}},W=vl(()=>new $.Api.TotalHubriseCalculator().calculateTotals(De(),$.Api.HubriseCurrencyCode.EUR)),Ne=()=>{var a;const e=(a=C.value)==null?void 0:a.id;e!=null&&(H.value=!0,el(),Je("orderpad/order",{method:"POST",body:{locationId:e,...De()},onResponseError({response:s}){H.value=!1,Ge(s)}}).then(s=>{var m;H.value=!1,alert(`Order ${(m=s.order)==null?void 0:m.ref} created!`),window.location.reload()}).catch(s=>{H.value=!1,Xe(s)}))},Ke=e=>{if(typeof e=="object"&&e!==null)switch(I.value){case $.Api.HubriseServiceType.DELIVERY:return`${e.delivery}%`;case $.Api.HubriseServiceType.COLLECTION:return`${e.collection}%`;case $.Api.HubriseServiceType.EAT_IN:return`${e.eat_in}%`}return""},ll=()=>{var a,s,m,y,h,S;if(U.value===void 0||U.value===null)return;const e={};(m=(s=(a=U.value)==null?void 0:a.data)==null?void 0:s.categories)==null||m.forEach(r=>{e[r.id]=r.name}),D=((S=(h=(y=U.value)==null?void 0:y.data)==null?void 0:h.products)==null?void 0:S.map(r=>{var d,u;const b=r.ref??(((d=r.skus)==null?void 0:d.length)===1&&(!Array.isArray(r.skus[0].option_list_ids)||r.skus[0].option_list_ids.length===0)?r.skus[0].ref:null),A=((u=r.skus)==null?void 0:u.length)===1&&(!Array.isArray(r.skus[0].option_list_ids)||r.skus[0].option_list_ids.length===0)?r.skus[0].price:$.Api.HubrisePriceUtil.multiply(r.skus[0].price,0);return{id:r.id,sku_ref:b,category:e[r.category_id],product_name:r.name,quantity:1,tax_rate:r.tax_rate,price:A,customer_notes:void 0}}).sort((r,b)=>{var A,d;return((A=r.category)==null?void 0:A.localeCompare(b.category??""))||((d=r.name)==null?void 0:d.localeCompare(b.name??""))}))??[],Ie=(D==null?void 0:D.filter(r=>r.sku_ref!==void 0&&r.sku_ref!==null))??[]},al=()=>{var a,s,m,y,h,S;if(U.value===void 0||U.value===null)return;const e={};(m=(s=(a=U.value)==null?void 0:a.data)==null?void 0:s.option_lists)==null||m.forEach(r=>{e[r.id]=r}),w={},(S=(h=(y=U.value)==null?void 0:y.data)==null?void 0:h.products)==null||S.forEach(r=>{w[r.id]=[],!(!Array.isArray(r.skus)||r.skus.length===0||!Array.isArray(r.skus[0].option_list_ids)||r.skus[0].option_list_ids.length===0)&&(r.skus.forEach(b=>{if(Array.isArray(b.option_list_ids)&&b.option_list_ids.length>0)b.option_list_ids.forEach(A=>{const d=e[A];d!==void 0&&(!Array.isArray(d.options)||d.options.length===0||d.options.forEach(u=>{const k=$.Api.HubrisePriceUtil.sum([b.price??null,u.price??null]);w[r.id].push({id:`${b.id}-${d.id}-${u.id}`,ref:u.ref??null,option_list_name:d.name,name:u.name,quantity:1,price:k})}))});else{const A=b.price??null;w[r.id].push({id:b.id,ref:b.ref??null,name:b.name,quantity:1,price:A})}}),w[r.id].sort((b,A)=>{var d;return(d=b.name)==null?void 0:d.localeCompare(A.name??"")}))}),Q={},Object.keys(w).forEach(r=>{var b;Q[r]=((b=w[r])==null?void 0:b.filter(A=>A.ref!==void 0&&A.ref!==null))??[]})},Pe=()=>{_.value.push({})},ol=e=>{const a=_.value.findIndex(s=>s===e);a>=0&&_.value.splice(a,1)},He=e=>{Array.isArray(e.options)||(e.options=[]),e.options.push({})},tl=(e,a)=>{const s=e.options.findIndex(m=>m===a);s>=0&&e.options.splice(s,1)},Oe=(e,a)=>{const s=D==null?void 0:D.find(m=>m.id===e);s!==void 0&&($.Util.ObjectUtil.update(a,s),Array.isArray(w[e])&&w[e].length>0&&He(a))},Re=(e,a,s)=>{var y;const m=(y=w[e])==null?void 0:y.find(h=>h.id===a);m!==void 0&&$.Util.ObjectUtil.update(s,m)},Fe=e=>{const a=e.target;a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.isContentEditable||(e.key==="+"||e.key==="Add"||e.code==="NumpadAdd"||e.shiftKey&&(e.key==="="||e.code==="Equal"))&&Pe()},f=e=>{if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();const a=Array.from(document.querySelectorAll('input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(y=>y.offsetParent!==null),s=a.indexOf(e.target),m=a[s+1];m&&m.focus()}};let G=Date.now(),X;const Ye=()=>{var m;const e=P.value;if(typeof e!="string"||e.length<3||/^[\d\s,]+$/.test(e))return;if(clearTimeout(X),Date.now()<G+xe){X=setTimeout(()=>{X=void 0,Ye()},Math.max(0,xe-(Date.now()-G)));return}const a=(m=$l("language",Vl.app.i18n.defaultLocale))==null?void 0:m.value,s=L.value??void 0;F.value=!0,G=Date.now(),Je(`address/search?text=${encodeURI(e)}&language=${a}${s!==void 0?`&country=${String(s)}`:""}`,{method:"GET",onResponseError({response:y}){F.value=!1,Ge(y)}}).then(y=>{clearTimeout(X),F.value=!1,ce.value=y.addresses,Le.value=!0,G=Date.now()}).catch(y=>{F.value=!1,Xe(y)})},dl=e=>{var a;return typeof e!="object"||e===null?e:[e.address_1,e.city,e.postal_code,(a=e.country)==null?void 0:a.toUpperCase()].filter(s=>s!==void 0).join(", ")},nl=e=>{var s;if(typeof e=="string"||e===null)return;P.value=e.address_1,Y.value=e.city,q.value=e.postal_code,pe.value=e.latitude,me.value=e.longitude;const a=(s=e.country)==null?void 0:s.toUpperCase();a!==void 0&&a!==L.value&&Se.find(m=>m.code===a)&&(L.value=a)},il=()=>{var e;ce.value=[],P.value=void 0,z.value=void 0,Y.value=void 0,q.value=void 0,pe.value=void 0,me.value=void 0,typeof((e=C.value)==null?void 0:e.country)=="string"?L.value=C.value.country:L.value=void 0},qe=e=>{var a;C.value=e,typeof((a=C.value)==null?void 0:a.country)=="string"&&(L.value=C.value.country)},je=e=>{J.value=e},Be=e=>{U.value=e,ll(),al()},Me=sl(),ze=ul(),We=cl();return yl(()=>{pl("page.order.add.title"),window.addEventListener("keydown",Fe),Me.onCurrentLocationChange(qe),ze.onCurrentCustomerListChange(je),We.onCurrentCatalogChange(Be)}),gl(()=>{window.removeEventListener("keydown",Fe),Me.offCurrentLocationChange(qe),ze.offCurrentCustomerListChange(je),We.offCurrentCatalogChange(Be)}),(e,a)=>{const s=ml,m=El,y=kl,h=Tl,S=Cl,r=Al,b=hl,A=bl("IconBtn");return E(),j("div",null,[V("div",Il,[V("div",Ll,[V("h4",Dl,p(("$t"in e?e.$t:o(n))("page.order.add.title")),1),V("div",Nl,p(("$t"in e?e.$t:o(n))("page.order.add.subtitle")),1)]),V("div",Kl,[l(s,{"enable-catalogs":"","enable-customer-lists":"","enable-locations":""}),l(B,{color:"secondary",onclick:"window.location.reload()",variant:"tonal"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.button.discard")),1)]),_:1}),l(B,{disabled:!R.value||_.value.length===0,loading:H.value,onClick:Ne},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])])]),l(T,{dense:""},{default:t(()=>[l(i,{cols:"12",md:"4"},{default:t(()=>[l(Ce,{disabled:!C.value||!J.value,loading:!C.value||!J.value,class:"mb-6 fill-height"},{default:t(()=>[l(Te,null,{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.customer.title")),1)]),_:1}),l(ke,{class:"pb-0"},{default:t(()=>[l(T,{dense:""},{default:t(()=>[l(i,{cols:"12"},{default:t(()=>[l(m,{modelValue:R.value,"onUpdate:modelValue":a[0]||(a[0]=d=>R.value=d),items:[],label:("$t"in e?e.$t:o(n))("page.order.add.section.customer.phone.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.customer.phone.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(Qe,{modelValue:te.value,"onUpdate:modelValue":a[1]||(a[1]=d=>te.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.customer.smsMarketing.label"),onKeyup:v(f,["enter"])},null,8,["modelValue","label"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(m,{modelValue:de.value,"onUpdate:modelValue":a[2]||(a[2]=d=>de.value=d),items:[],label:("$t"in e?e.$t:o(n))("page.order.add.section.customer.email.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.customer.email.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(Qe,{modelValue:ne.value,"onUpdate:modelValue":a[3]||(a[3]=d=>ne.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.customer.emailMarketing.label"),onKeyup:v(f,["enter"])},null,8,["modelValue","label"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(y,{modelValue:le.value,"onUpdate:modelValue":a[4]||(a[4]=d=>le.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.customer.firstName.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.customer.firstName.placeholder"),class:"mb-3",onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(y,{modelValue:ae.value,"onUpdate:modelValue":a[5]||(a[5]=d=>ae.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.customer.lastName.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.customer.lastName.placeholder"),class:"mb-3",onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(y,{modelValue:oe.value,"onUpdate:modelValue":a[6]||(a[6]=d=>oe.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.customer.company.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.customer.company.placeholder"),class:"mb-3",onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(i,{cols:"12",md:"8"},{default:t(()=>[l(Ce,{disabled:!C.value,loading:!C.value,class:"action-card mb-6 fill-height"},{default:t(()=>[l(Te,null,{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.action.title")),1)]),_:1}),l(ke,{class:"pb-0"},{default:t(()=>[l(T,{dense:""},{default:t(()=>[l(i,{cols:"12",md:"4"},{default:t(()=>[V("div",Pl,[l(wl,{modelValue:I.value,"onUpdate:modelValue":a[7]||(a[7]=d=>I.value=d),class:"v-tabs-pill",color:"primary",direction:"vertical"},{default:t(()=>[(E(),K(Ee,{key:0,value:o($.Api).HubriseServiceType.DELIVERY},{default:t(()=>[l(O,{class:"me-2",icon:"mdi-moped"}),V("div",Hl,p(("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.title")),1)]),_:1},8,["value"])),(E(),K(Ee,{key:1,value:o($.Api).HubriseServiceType.COLLECTION},{default:t(()=>[l(O,{class:"me-2",icon:"bx-walk"}),V("div",Ol,p(("$t"in e?e.$t:o(n))("page.order.add.section.action.pickup.title")),1)]),_:1},8,["value"])),(E(),K(Ee,{key:2,value:o($.Api).HubriseServiceType.EAT_IN},{default:t(()=>[l(O,{class:"me-2",icon:"ic-baseline-table-bar"}),V("div",Rl,p(("$t"in e?e.$t:o(n))("page.order.add.section.action.eatin.title")),1)]),_:1},8,["value"]))]),_:1},8,["modelValue"])])]),_:1}),l(i,{cols:"12",md:"8"},{default:t(()=>[l(Ul,{modelValue:I.value,"onUpdate:modelValue":a[21]||(a[21]=d=>I.value=d),touch:!1,class:"w-100"},{default:t(()=>[l(we,{value:o($.Api).HubriseServiceType.DELIVERY},{default:t(()=>[V("div",Fl,[l(T,{class:"v-row-small"},{default:t(()=>[l(i,{cols:"6"},{default:t(()=>[l(h,{modelValue:se.value,"onUpdate:modelValue":a[8]||(a[8]=d=>se.value=d),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:Z},label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.date.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.date.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","config","label","placeholder"])]),_:1}),l(i,{cols:"6"},{default:t(()=>[l(h,{modelValue:ue.value,"onUpdate:modelValue":a[9]||(a[9]=d=>ue.value=d),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.time.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.time.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(m,{modelValue:P.value,"onUpdate:modelValue":[a[10]||(a[10]=d=>P.value=d),nl],"item-title":dl,items:ce.value,label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.address1.label"),loading:F.value,menu:Le.value,placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.address1.placeholder"),clearable:"","item-value":"id",onInput:Ye,onKeyup:v(f,["enter"]),"onClick:clear":il},null,8,["modelValue","items","label","loading","menu","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(y,{modelValue:z.value,"onUpdate:modelValue":a[11]||(a[11]=d=>z.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.address2.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.address2.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(y,{modelValue:Y.value,"onUpdate:modelValue":a[12]||(a[12]=d=>Y.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.city.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.city.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(y,{modelValue:q.value,"onUpdate:modelValue":a[13]||(a[13]=d=>q.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.zipcode.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.zipcode.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(S,{modelValue:L.value,"onUpdate:modelValue":a[14]||(a[14]=d=>L.value=d),items:o(Se),label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.country.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.country.placeholder"),"item-title":"label","item-value":"code",onKeyup:v(f,["enter"])},null,8,["modelValue","items","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(r,{modelValue:fe.value,"onUpdate:modelValue":a[15]||(a[15]=d=>fe.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.notes.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.delivery.notes.placeholder"),"auto-grow":"",counter:"",maxlength:"300",rows:"1",onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1})])]),_:1},8,["value"]),l(we,{value:o($.Api).HubriseServiceType.COLLECTION},{default:t(()=>[V("div",Yl,[V("div",ql,[V("div",jl,[l(h,{modelValue:ve.value,"onUpdate:modelValue":a[16]||(a[16]=d=>ve.value=d),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:Z},label:("$t"in e?e.$t:o(n))("page.order.add.section.action.pickup.date.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.pickup.date.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","config","label","placeholder"])]),V("div",Bl,[l(h,{modelValue:ye.value,"onUpdate:modelValue":a[17]||(a[17]=d=>ye.value=d),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:o(n))("page.order.add.section.action.pickup.time.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.pickup.time.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])])])])]),_:1},8,["value"]),l(we,{value:o($.Api).HubriseServiceType.EAT_IN},{default:t(()=>[V("div",Ml,[V("div",zl,[V("div",Wl,[l(h,{modelValue:ge.value,"onUpdate:modelValue":a[18]||(a[18]=d=>ge.value=d),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:Z},label:("$t"in e?e.$t:o(n))("page.order.add.section.action.eatin.date.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.eatin.date.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","config","label","placeholder"])]),V("div",Gl,[l(h,{modelValue:be.value,"onUpdate:modelValue":a[19]||(a[19]=d=>be.value=d),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:o(n))("page.order.add.section.action.eatin.time.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.eatin.time.placeholder"),onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])])]),V("div",Xl,[l(_l,{modelValue:$e.value,"onUpdate:modelValue":a[20]||(a[20]=d=>$e.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.action.eatin.table.label"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.action.eatin.table.placeholder"),variant:"underlined",onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])])])]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(i,{class:"pt-0 mt-0",cols:"12",md:"12"},{default:t(()=>[l(Ce,{disabled:!C.value||!U.value,loading:!C.value||!U.value},{default:t(()=>[l(Te,null,{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.title")),1)]),_:1}),l(ke,null,{default:t(()=>[l(T,{dense:""},{default:t(()=>[l(i,{cols:"2",md:"2"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.reference")),1)]),_:1}),l(i,{cols:"2",md:"4"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.name")),1)]),_:1}),l(i,{cols:"2",md:"1"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.quantity")),1)]),_:1}),l(i,{cols:"2",md:"1"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.vat")),1)]),_:1}),l(i,{cols:"1",md:"1"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.price")),1)]),_:1}),l(i,{class:"text-center",cols:"2",md:"2"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.subtotal")),1)]),_:1}),l(i,{cols:"1",md:"1"})]),_:1}),(E(!0),j(Ae,null,Ze(_.value,d=>(E(),j(Ae,{key:d.id},[l(T,{dense:""},{default:t(()=>[l(i,{cols:"4",md:"2"},{default:t(()=>[d.sku_ref!==null?(E(),K(b,{key:0,modelValue:d.sku_ref,"onUpdate:modelValue":[u=>d.sku_ref=u,u=>Oe(u,d)],items:o(Ie),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.item.reference"),"item-title":"sku_ref","item-value":"id","no-data-text":"common.component.noData",onKeyup:v(f,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):M("",!0)]),_:2},1024),l(i,{cols:"6",md:"4"},{default:t(()=>[l(b,{modelValue:d.product_name,"onUpdate:modelValue":[u=>d.product_name=u,u=>Oe(u,d)],items:o(D),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.item.name"),"item-title":"product_name","item-value":"id","no-data-text":"common.component.noData",onKeyup:v(f,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(i,{cols:"2",md:"1"},{default:t(()=>[l(y,{modelValue:d.quantity,"onUpdate:modelValue":u=>d.quantity=u,clearable:!1,min:"1",placeholder:"1",type:"number",onKeyup:v(f,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[g(p(Ke(d.tax_rate)),1)]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(d.price)),1)]),_:2},1024),l(i,{class:"align-self-end text-center",cols:"3",md:"2"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(o($.Api).HubrisePriceUtil.multiply(d.price,d.quantity))),1)]),_:2},1024),l(i,{class:"px-0",cols:"3",md:"1"},{default:t(()=>[l(A,{"x-small":"",onClick:u=>d.customer_notes=d.customer_notes===void 0?null:void 0},{default:t(()=>[l(O,{icon:"bx-edit"})]),_:2},1032,["onClick"]),l(A,{onClick:u=>ol(d)},{default:t(()=>[l(O,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),(E(!0),j(Ae,null,Ze(d.options,u=>(E(),j("div",{key:u.ref},[l(T,{dense:""},{default:t(()=>[l(i,{class:"d-flex align-self-end",cols:"4",md:"2"},{default:t(()=>[l(Ue),u.ref!==null?(E(),K(b,{key:0,modelValue:u.ref,"onUpdate:modelValue":[k=>u.ref=k,k=>Re(d.id,k,u)],items:o(Q)[d.id],placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.item.reference"),"item-title":"ref","item-value":"id","no-data-text":"common.component.noData",onKeyup:v(f,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):M("",!0)]),_:2},1024),l(i,{class:"d-flex align-self-end",cols:"6",md:"4"},{default:t(()=>[l(Ue),l(b,{modelValue:u.name,"onUpdate:modelValue":[k=>u.name=k,k=>Re(d.id,k,u)],items:o(w)[d.id],placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.item.name"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",onKeyup:v(f,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(i,{class:"d-flex align-self-end",cols:"2",md:"1"},{default:t(()=>[l(y,{modelValue:u.quantity,"onUpdate:modelValue":k=>u.quantity=k,clearable:!1,min:"1",placeholder:"1",type:"number",onKeyup:v(f,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[g(p(Ke(d.tax_rate)),1)]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(u.price)),1)]),_:2},1024),l(i,{class:"align-self-end text-center",cols:"3",md:"2"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(o($.Api).HubrisePriceUtil.multiply(u.price,u.quantity))),1)]),_:2},1024),l(i,{cols:"3",md:"1"},{default:t(()=>[l(A,{onClick:k=>tl(d,u)},{default:t(()=>[l(O,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(T,{dense:""},{default:t(()=>[l(i,{cols:"0",md:"2"}),l(i,{cols:"12",md:"5"},{default:t(()=>{var u;return[((u=o(w)[d.id])==null?void 0:u.length)>0?(E(),K(B,{key:0,class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"x-small",onClick:k=>He(d)},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.button.add.itemOption")),1)]),_:2},1032,["onClick"])):M("",!0)]}),_:2},1024),l(i,{cols:"12",md:"4"},{default:t(()=>[d.customer_notes!==void 0?(E(),K(r,{key:0,modelValue:d.customer_notes,"onUpdate:modelValue":u=>d.customer_notes=u,label:("$t"in e?e.$t:o(n))("page.order.add.section.item.itemNotes"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.item.itemNotes"),"auto-grow":"",counter:"",maxlength:"300",rows:"1",onKeyup:v(f,["enter"])},null,8,["modelValue","onUpdate:modelValue","label","placeholder"])):M("",!0)]),_:2},1024),l(i,{cols:"0",md:"1"})]),_:2},1024)],64))),128)),l(T,{dense:""},{default:t(()=>[l(i,{cols:"12"},{default:t(()=>[l(B,{class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"small",onClick:Pe},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.button.add.item")),1)]),_:1})]),_:1}),l(i,{class:"px-4 py-8",cols:"6",md:"3"},{default:t(()=>[l(r,{modelValue:x.value,"onUpdate:modelValue":a[22]||(a[22]=d=>x.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.item.customerNotes"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.item.customerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4",onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{class:"px-4 py-8",cols:"6",md:"3"},{default:t(()=>[l(Ue),l(r,{modelValue:ee.value,"onUpdate:modelValue":a[23]||(a[23]=d=>ee.value=d),label:("$t"in e?e.$t:o(n))("page.order.add.section.item.sellerNotes"),placeholder:("$t"in e?e.$t:o(n))("page.order.add.section.item.sellerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4",onKeyup:v(f,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"0",md:"1"}),l(i,{cols:"12",md:"5"},{default:t(()=>[l(T,{dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.subtotal")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(o(W).subtotal)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),I.value===o($.Api).HubriseServiceType.DELIVERY?(E(),K(T,{key:0,dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.deliveryFee")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(o(W).deliveryFee)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1})):M("",!0),l(T,{dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.minimumOrderFee")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(o(W).minimumOrderFee)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),l(T,{dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.section.item.total")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[g(p(("displayPrice"in e?e.displayPrice:o(N))(o(W).total)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),l(T,{dense:""},{default:t(()=>[l(i,{cols:"12",md:"9"},{default:t(()=>[l(B,{disabled:!R.value||_.value.length===0,loading:H.value,class:"w-100",onClick:Ne},{default:t(()=>[g(p(("$t"in e?e.$t:o(n))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])]),_:1}),l(i,{cols:"0",md:"3"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])}}}),ja=Sl(Zl,[["__scopeId","data-v-559e523e"]]);export{ja as default};
