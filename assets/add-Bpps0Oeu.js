import{D as ge,$ as Ze,c as $,h as Y,a as q,b as $e,d as n,e as L}from"./Http-BbKGRvpm.js";import{d as Je,r as c,X as Qe,G as xe,ai as el,c as j,e as h,b as l,v as p,m as a,g as D,l as O,f as t,ah as z,a as ll,o as T,t as f,di as b,$ as R,F as Ve,i as Ye}from"./index-2Z5SUNOj.js";import{_ as al}from"./AppTextarea.vue_vue_type_script_setup_true_lang-B6FyalPX.js";import{_ as ol}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-caVOck10.js";import{_ as tl}from"./AppSelect.vue_vue_type_script_setup_true_lang-CPMfH3DP.js";import{_ as dl}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-cLZ9Of2p.js";import{_ as nl}from"./AppTextField.vue_vue_type_script_setup_true_lang-D4-WYZTz.js";import{_ as il}from"./AppCombobox.vue_vue_type_script_setup_true_lang-DWO9vN04.js";import{$ as B}from"./api-DfS_sysl.js";import{V as he}from"./VSelect-BThvVurc.js";import{V as k,a as i}from"./VRow-DB7-HmT9.js";import{V as Te,c as ke}from"./VCard-DQGksZyZ.js";import{V as Ae}from"./VCardText-DVpU51ne.js";import{V as qe}from"./VCheckbox-DXoK93Jc.js";import{a as rl,V as Ee}from"./VTabs-DMi5UylE.js";import{V as sl,a as Ue}from"./VWindowItem-CJ2f2J5y.js";import{V as ul}from"./VTextField-DDn27Kxh.js";import{V as Ce}from"./VSpacer-949OFTfo.js";import{_ as ml}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                   */import"./VCounter-ptMbCJeF.js";import"./VImg-BSFXO24j.js";import"./VField-HjR1mbrY.js";import"./form-B4hTdX8Q.js";import"./easing-Bybner-F.js";import"./VInput-D2zQSbWJ.js";import"./forwardRefs-C-GTDzx5.js";import"./filter-BkBed8Wz.js";import"./VList-B78uSFY5.js";import"./ssrBoot-CmTyIC_N.js";import"./VAvatar-CBLMKjQn.js";import"./VDivider-BSAz5qCm.js";import"./VMenu-BRPsPoVU.js";import"./VOverlay-Dp1iBSRA.js";import"./delay-j--XzEW8.js";import"./lazy-BYvnRN8T.js";import"./scopeId-DVz3-gab.js";import"./dialog-transition-BPjQJBH0.js";import"./VCheckboxBtn-DAI9ALds.js";import"./VSelectionControl-Da4_5hl8.js";import"./VChip-D3-GekSD.js";import"./VSlideGroup-BQjsgayo.js";import"./index-CvOPxmL5.js";/* empty css              */const pl={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},cl={class:"d-flex flex-column justify-center"},vl={class:"text-h4 mb-1"},fl={class:"text-body-1"},bl={class:"d-flex gap-4 align-center flex-wrap"},yl={class:"pe-3"},gl={class:"text-truncate font-weight-medium text-start"},$l={class:"text-truncate font-weight-medium text-start"},Vl={class:"text-truncate font-weight-medium text-start"},hl={class:"ps-md-3"},Tl={class:"ps-md-3"},kl={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},Al={class:"flex-grow-1"},El={class:"flex-grow-1"},Ul={class:"ps-md-3"},Cl={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},wl={class:"flex-grow-1"},Sl={class:"flex-grow-1"},Il={class:"mt-5"},Nl=Je({__name:"add",setup(Kl){const W=[{from:"1900-01-01",to:ge.local().minus({days:1}).toISODate()}],we=Ze("common.country"),je=Object.keys(we).map(e=>{var o,m;return{code:e,label:(m=(o=we[e])==null?void 0:o.body)==null?void 0:m.static}}).filter(e=>e.label!==void 0),A=c(),X=c(),E=c();let Se=[],P=[],Z={},C={};const w=c();w.value=null;const S=c();S.value=null;const N=c();N.value=null;const K=c([{}]),J=c(),Q=c(),x=c(),ee=c(),le=c(),F=c(),ae=c(!0),oe=c(),te=c(!0),_=c($.Api.HubriseServiceType.DELIVERY),de=ge.local().toISODate(),ne=ge.local().toISOTime({suppressSeconds:!0,suppressMilliseconds:!0,includeOffset:!1}),ie=c(de),re=c(ne),se=c(),ue=c(),me=c(),pe=c(),M=c(),ce=c(de),ve=c(ne),fe=c(de),be=c(ne),ye=c(),H=c(!1),ze=()=>{K.value===void 0||K.value===null||(K.value=K.value.filter(e=>{var o;return e.options=(o=e.options)==null?void 0:o.filter(m=>"id"in m&&m.id!==void 0&&m.id!==null),"id"in e&&e.id!==void 0&&e.id!==null}))},Ie=()=>{var m,s,y,I,U,u;let e;switch(_.value){case $.Api.HubriseServiceType.DELIVERY:e=$e(ie.value,re.value,(s=(m=A.value)==null?void 0:m.timezone)==null?void 0:s.name);break;case $.Api.HubriseServiceType.COLLECTION:e=$e(ce.value,ve.value,(I=(y=A.value)==null?void 0:y.timezone)==null?void 0:I.name);break;case $.Api.HubriseServiceType.EAT_IN:e=$e(fe.value,be.value,(u=(U=A.value)==null?void 0:U.timezone)==null?void 0:u.name);break}const o={first_name:x.value,last_name:ee.value,company_name:le.value,email:oe.value,email_marketing:te.value,phone:F.value,sms_marketing:ae.value};return _.value===$.Api.HubriseServiceType.DELIVERY&&(o.address_1=se.value,o.address_2=ue.value,o.postal_code=pe.value,o.city=me.value,o.country=M.value),{service_type:_.value,table_name:ye.value??void 0,expected_time:e??void 0,customer:o,items:K.value,customer_notes:J.value,seller_notes:Q.value}},G=Qe(()=>new $.Api.TotalHubriseCalculator().calculateTotals(Ie(),$.Api.HubriseCurrencyCode.EUR)),Ne=()=>{var o;const e=(o=A.value)==null?void 0:o.id;e!=null&&(H.value=!0,ze(),B("orderpad/order",{method:"POST",body:{locationId:e,...Ie()},onResponseError({response:m}){H.value=!1,Y(m)}}).then(m=>{var s;H.value=!1,alert(`Order ${(s=m.order)==null?void 0:s.ref} created!`),window.location.reload()}).catch(m=>{H.value=!1,q(m)}))},Ke=e=>{if(typeof e=="object"&&e!==null)switch(_.value){case $.Api.HubriseServiceType.DELIVERY:return`${e.delivery}%`;case $.Api.HubriseServiceType.COLLECTION:return`${e.collection}%`;case $.Api.HubriseServiceType.EAT_IN:return`${e.eat_in}%`}return""},Be=()=>{var o,m,s,y,I,U;if(E.value===void 0||E.value===null)return;const e={};(s=(m=(o=E.value)==null?void 0:o.data)==null?void 0:m.categories)==null||s.forEach(u=>{e[u.id]=u.name}),P=((U=(I=(y=E.value)==null?void 0:y.data)==null?void 0:I.products)==null?void 0:U.map(u=>{var r,V;const g=u.ref??(((r=u.skus)==null?void 0:r.length)===1&&(!Array.isArray(u.skus[0].option_list_ids)||u.skus[0].option_list_ids.length===0)?u.skus[0].ref:null),d=((V=u.skus)==null?void 0:V.length)===1&&(!Array.isArray(u.skus[0].option_list_ids)||u.skus[0].option_list_ids.length===0)?u.skus[0].price:null;return{id:u.id,sku_ref:g,category:e[u.category_id],product_name:u.name,quantity:1,tax_rate:u.tax_rate,price:d,customer_notes:void 0}}).sort((u,g)=>{var d,r;return((d=u.category)==null?void 0:d.localeCompare(g.category??""))||((r=u.name)==null?void 0:r.localeCompare(g.name??""))}))??[],Se=(P==null?void 0:P.filter(u=>u.sku_ref!==void 0&&u.sku_ref!==null))??[]},Me=()=>{var o,m,s,y,I,U;if(E.value===void 0||E.value===null)return;const e={};(s=(m=(o=E.value)==null?void 0:o.data)==null?void 0:m.option_lists)==null||s.forEach(u=>{e[u.id]=u}),C={},(U=(I=(y=E.value)==null?void 0:y.data)==null?void 0:I.products)==null||U.forEach(u=>{C[u.id]=[],!(!Array.isArray(u.skus)||u.skus.length===0||!Array.isArray(u.skus[0].option_list_ids)||u.skus[0].option_list_ids.length===0)&&(u.skus.forEach(g=>{if(Array.isArray(g.option_list_ids)&&g.option_list_ids.length>0)g.option_list_ids.forEach(d=>{const r=e[d];r!==void 0&&(!Array.isArray(r.options)||r.options.length===0||r.options.forEach(V=>{const Xe=$.Api.HubrisePriceUtil.sum([g.price??null,V.price??null]);C[u.id].push({id:`${g.id}-${r.id}-${V.id}`,ref:V.ref??null,option_list_name:r.name,name:V.name,quantity:1,price:Xe})}))});else{const d=g.price??null;C[u.id].push({id:g.id,ref:g.ref??null,name:g.name,quantity:1,price:d})}}),C[u.id].sort((g,d)=>{var r;return(r=g.name)==null?void 0:r.localeCompare(d.name??"")}))}),Z={},Object.keys(C).forEach(u=>{var g;Z[u]=((g=C[u])==null?void 0:g.filter(d=>d.ref!==void 0&&d.ref!==null))??[]})},De=()=>{K.value.push({})},Ge=e=>{const o=K.value.findIndex(m=>m===e);o>=0&&K.value.splice(o,1)},_e=e=>{Array.isArray(e.options)||(e.options=[]),e.options.push({})},We=(e,o)=>{const m=e.options.findIndex(s=>s===o);m>=0&&e.options.splice(m,1)},Pe=(e,o)=>{const m=P==null?void 0:P.find(s=>s.id===e);m!==void 0&&($.Util.ObjectUtil.update(o,m),Array.isArray(C[e])&&C[e].length>0&&_e(o))},Le=(e,o,m)=>{var y;const s=(y=C[e])==null?void 0:y.find(I=>I.id===o);s!==void 0&&$.Util.ObjectUtil.update(m,s)},Oe=e=>{var o;[void 0,null,""].includes(e)||(X.value=(o=S.value)==null?void 0:o.find(m=>m.id===e))},He=e=>{[void 0,null,""].includes(e)||B(`orderpad/catalog?catalogId=${e}`,{method:"GET",onResponseError({response:o}){E.value=void 0,Y(o)}}).then(o=>{E.value=o.catalog,Be(),Me()}).catch(o=>{E.value=void 0,q(o)})},Re=e=>{var o,m;[void 0,null,""].includes(e)||(A.value=(o=w.value)==null?void 0:o.find(s=>s.id===e),typeof((m=A.value)==null?void 0:m.country)=="string"&&(M.value=A.value.country),S.value=void 0,B(`orderpad/customers/list?locationId=${e}`,{method:"GET",onResponseError({response:s}){S.value=[],Y(s)}}).then(s=>{var y;S.value=s.lists,((y=S.value)==null?void 0:y.length)===1&&Oe(S.value[0].id)}).catch(s=>{S.value=[],q(s)}),N.value=void 0,B(`orderpad/catalogs?locationId=${e}`,{method:"GET",onResponseError({response:s}){N.value=[],Y(s)}}).then(s=>{var y;N.value=s.catalogs,((y=N.value)==null?void 0:y.length)===1&&He(N.value[0].id)}).catch(s=>{N.value=[],q(s)}))},Fe=e=>{const o=e.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.isContentEditable||(e.key==="+"||e.key==="Add"||e.code==="NumpadAdd"||e.shiftKey&&(e.key==="="||e.code==="Equal"))&&De()},v=e=>{if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();const o=Array.from(document.querySelectorAll('input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(y=>y.offsetParent!==null),m=o.indexOf(e.target),s=o[m+1];s&&s.focus()}};return xe(()=>{window.addEventListener("keydown",Fe),w.value=void 0,B("orderpad/locations",{method:"GET",onResponseError({response:e}){w.value=[],Y(e)}}).then(e=>{var o;w.value=e.locations,((o=w.value)==null?void 0:o.length)===1&&Re(w.value[0].id)}).catch(e=>{w.value=[],q(e)})}),el(()=>{window.removeEventListener("keydown",Fe)}),(e,o)=>{const m=il,s=nl,y=dl,I=tl,U=ol,u=ll("IconBtn"),g=al;return T(),j("div",null,[h("div",pl,[h("div",cl,[h("h4",vl,p(("$t"in e?e.$t:a(n))("page.order.add.title")),1),h("div",fl,p(("$t"in e?e.$t:a(n))("page.order.add.subtitle")),1)]),h("div",bl,[w.value!==null?(T(),D(he,{key:0,disabled:w.value===void 0,items:w.value,label:("$t"in e?e.$t:a(n))("page.order.add.button.location.label"),loading:w.value===void 0,placeholder:("$t"in e?e.$t:a(n))("page.order.add.button.location.placeholder"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",style:{width:"200px"},variant:"underlined","onUpdate:modelValue":Re},null,8,["disabled","items","label","loading","placeholder"])):O("",!0),S.value!==null?(T(),D(he,{key:1,disabled:S.value===void 0,items:S.value,label:("$t"in e?e.$t:a(n))("page.order.add.button.customerList.label"),loading:S.value===void 0,placeholder:("$t"in e?e.$t:a(n))("page.order.add.button.customerList.placeholder"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",style:{width:"200px"},variant:"underlined","onUpdate:modelValue":Oe},null,8,["disabled","items","label","loading","placeholder"])):O("",!0),N.value!==null?(T(),D(he,{key:2,disabled:N.value===void 0,items:N.value,label:("$t"in e?e.$t:a(n))("page.order.add.button.catalog.label"),loading:N.value===void 0,placeholder:("$t"in e?e.$t:a(n))("page.order.add.button.catalog.placeholder"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",style:{width:"200px"},variant:"underlined","onUpdate:modelValue":He},null,8,["disabled","items","label","loading","placeholder"])):O("",!0),l(z,{color:"secondary",onclick:"window.location.reload()",variant:"tonal"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.button.discard")),1)]),_:1}),l(z,{disabled:!F.value||K.value.length===0,loading:H.value,onClick:Ne},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])])]),l(k,{dense:""},{default:t(()=>[l(i,{cols:"12",md:"4"},{default:t(()=>[l(Te,{disabled:!A.value||!X.value,loading:!A.value||!X.value,class:"mb-6 fill-height"},{default:t(()=>[l(ke,null,{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.customer.title")),1)]),_:1}),l(Ae,{class:"pb-0"},{default:t(()=>[l(k,{dense:""},{default:t(()=>[l(i,{cols:"12"},{default:t(()=>[l(m,{modelValue:F.value,"onUpdate:modelValue":o[0]||(o[0]=d=>F.value=d),items:[],label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.phone.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.phone.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(qe,{modelValue:ae.value,"onUpdate:modelValue":o[1]||(o[1]=d=>ae.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.smsMarketing.label"),onKeyup:b(v,["enter"])},null,8,["modelValue","label"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(m,{modelValue:oe.value,"onUpdate:modelValue":o[2]||(o[2]=d=>oe.value=d),items:[],label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.email.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.email.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(qe,{modelValue:te.value,"onUpdate:modelValue":o[3]||(o[3]=d=>te.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.emailMarketing.label"),onKeyup:b(v,["enter"])},null,8,["modelValue","label"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(s,{modelValue:x.value,"onUpdate:modelValue":o[4]||(o[4]=d=>x.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.firstName.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.firstName.placeholder"),class:"mb-3",onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(s,{modelValue:ee.value,"onUpdate:modelValue":o[5]||(o[5]=d=>ee.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.lastName.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.lastName.placeholder"),class:"mb-3",onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(s,{modelValue:le.value,"onUpdate:modelValue":o[6]||(o[6]=d=>le.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.company.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.company.placeholder"),class:"mb-3",onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(i,{cols:"12",md:"8"},{default:t(()=>[l(Te,{disabled:!A.value,loading:!A.value,class:"action-card mb-6 fill-height"},{default:t(()=>[l(ke,null,{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.action.title")),1)]),_:1}),l(Ae,{class:"pb-0"},{default:t(()=>[l(k,{dense:""},{default:t(()=>[l(i,{cols:"12",md:"4"},{default:t(()=>[h("div",yl,[l(rl,{modelValue:_.value,"onUpdate:modelValue":o[7]||(o[7]=d=>_.value=d),class:"v-tabs-pill",color:"primary",direction:"vertical"},{default:t(()=>[(T(),D(Ee,{key:0,value:a($.Api).HubriseServiceType.DELIVERY},{default:t(()=>[l(R,{class:"me-2",icon:"mdi-moped"}),h("div",gl,p(("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.title")),1)]),_:1},8,["value"])),(T(),D(Ee,{key:1,value:a($.Api).HubriseServiceType.COLLECTION},{default:t(()=>[l(R,{class:"me-2",icon:"bx-walk"}),h("div",$l,p(("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.title")),1)]),_:1},8,["value"])),(T(),D(Ee,{key:2,value:a($.Api).HubriseServiceType.EAT_IN},{default:t(()=>[l(R,{class:"me-2",icon:"ic-baseline-table-bar"}),h("div",Vl,p(("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.title")),1)]),_:1},8,["value"]))]),_:1},8,["modelValue"])])]),_:1}),l(i,{cols:"12",md:"8"},{default:t(()=>[l(sl,{modelValue:_.value,"onUpdate:modelValue":o[20]||(o[20]=d=>_.value=d),touch:!1,class:"w-100"},{default:t(()=>[l(Ue,{value:a($.Api).HubriseServiceType.DELIVERY},{default:t(()=>[h("div",hl,[l(k,null,{default:t(()=>[l(i,{cols:"6"},{default:t(()=>[l(y,{modelValue:ie.value,"onUpdate:modelValue":o[8]||(o[8]=d=>ie.value=d),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:W},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.date.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.date.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","config","label","placeholder"])]),_:1}),l(i,{cols:"6"},{default:t(()=>[l(y,{modelValue:re.value,"onUpdate:modelValue":o[9]||(o[9]=d=>re.value=d),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.time.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.time.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(s,{modelValue:se.value,"onUpdate:modelValue":o[10]||(o[10]=d=>se.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address1.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address1.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(s,{modelValue:ue.value,"onUpdate:modelValue":o[11]||(o[11]=d=>ue.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address2.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address2.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(s,{modelValue:me.value,"onUpdate:modelValue":o[12]||(o[12]=d=>me.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.city.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.city.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(s,{modelValue:pe.value,"onUpdate:modelValue":o[13]||(o[13]=d=>pe.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.zipcode.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.zipcode.placeholder"),type:"number",onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(I,{modelValue:M.value,"onUpdate:modelValue":o[14]||(o[14]=d=>M.value=d),items:a(je),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.country.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.country.placeholder"),"item-title":"label","item-value":"code",onKeyup:b(v,["enter"])},null,8,["modelValue","items","label","placeholder"])]),_:1})]),_:1})])]),_:1},8,["value"]),l(Ue,{value:a($.Api).HubriseServiceType.COLLECTION},{default:t(()=>[h("div",Tl,[h("div",kl,[h("div",Al,[l(y,{modelValue:ce.value,"onUpdate:modelValue":o[15]||(o[15]=d=>ce.value=d),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:W},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.date.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.date.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","config","label","placeholder"])]),h("div",El,[l(y,{modelValue:ve.value,"onUpdate:modelValue":o[16]||(o[16]=d=>ve.value=d),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.time.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.time.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])])])])]),_:1},8,["value"]),l(Ue,{value:a($.Api).HubriseServiceType.EAT_IN},{default:t(()=>[h("div",Ul,[h("div",Cl,[h("div",wl,[l(y,{modelValue:fe.value,"onUpdate:modelValue":o[17]||(o[17]=d=>fe.value=d),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:W},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.date.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.date.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","config","label","placeholder"])]),h("div",Sl,[l(y,{modelValue:be.value,"onUpdate:modelValue":o[18]||(o[18]=d=>be.value=d),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.time.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.time.placeholder"),onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])])]),h("div",Il,[l(ul,{modelValue:ye.value,"onUpdate:modelValue":o[19]||(o[19]=d=>ye.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.table.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.table.placeholder"),variant:"underlined",onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])])])]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(i,{class:"pt-0 mt-0",cols:"12",md:"12"},{default:t(()=>[l(Te,{disabled:!A.value||!E.value,loading:!A.value||!E.value},{default:t(()=>[l(ke,null,{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.title")),1)]),_:1}),l(Ae,null,{default:t(()=>[l(k,{dense:""},{default:t(()=>[l(i,{cols:"2",md:"2"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.reference")),1)]),_:1}),l(i,{cols:"2",md:"4"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.name")),1)]),_:1}),l(i,{cols:"2",md:"1"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.quantity")),1)]),_:1}),l(i,{cols:"2",md:"1"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.vat")),1)]),_:1}),l(i,{cols:"1",md:"1"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.price")),1)]),_:1}),l(i,{class:"text-center",cols:"2",md:"2"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.subtotal")),1)]),_:1}),l(i,{cols:"1",md:"1"})]),_:1}),(T(!0),j(Ve,null,Ye(K.value,d=>(T(),j(Ve,{key:d.id},[l(k,{dense:""},{default:t(()=>[l(i,{cols:"4",md:"2"},{default:t(()=>[d.sku_ref!==null?(T(),D(U,{key:0,modelValue:d.sku_ref,"onUpdate:modelValue":[r=>d.sku_ref=r,r=>Pe(r,d)],items:a(Se),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.reference"),"item-title":"sku_ref","item-value":"id","no-data-text":"common.component.noData",onKeyup:b(v,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):O("",!0)]),_:2},1024),l(i,{cols:"6",md:"4"},{default:t(()=>[l(U,{modelValue:d.product_name,"onUpdate:modelValue":[r=>d.product_name=r,r=>Pe(r,d)],items:a(P),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.name"),"item-title":"product_name","item-value":"id","no-data-text":"common.component.noData",onKeyup:b(v,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(i,{cols:"2",md:"1"},{default:t(()=>[l(s,{modelValue:d.quantity,"onUpdate:modelValue":r=>d.quantity=r,clearable:!1,min:"1",placeholder:"1",type:"number",onKeyup:b(v,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[f(p(Ke(d.tax_rate)),1)]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(d.price)),1)]),_:2},1024),l(i,{class:"align-self-end text-center",cols:"3",md:"2"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(a($.Api).HubrisePriceUtil.multiply(d.price,d.quantity))),1)]),_:2},1024),l(i,{class:"px-0",cols:"3",md:"1"},{default:t(()=>[l(u,{"x-small":"",onClick:r=>d.customer_notes=d.customer_notes===void 0?null:void 0},{default:t(()=>[l(R,{icon:"bx-edit"})]),_:2},1032,["onClick"]),l(u,{onClick:r=>Ge(d)},{default:t(()=>[l(R,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),(T(!0),j(Ve,null,Ye(d.options,r=>(T(),j("div",{key:r.ref},[l(k,{dense:""},{default:t(()=>[l(i,{class:"d-flex align-self-end",cols:"4",md:"2"},{default:t(()=>[l(Ce),r.ref!==null?(T(),D(U,{key:0,modelValue:r.ref,"onUpdate:modelValue":[V=>r.ref=V,V=>Le(d.id,V,r)],items:a(Z)[d.id],placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.reference"),"item-title":"ref","item-value":"id","no-data-text":"common.component.noData",onKeyup:b(v,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):O("",!0)]),_:2},1024),l(i,{class:"d-flex align-self-end",cols:"6",md:"4"},{default:t(()=>[l(Ce),l(U,{modelValue:r.name,"onUpdate:modelValue":[V=>r.name=V,V=>Le(d.id,V,r)],items:a(C)[d.id],placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.name"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",onKeyup:b(v,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(i,{class:"d-flex align-self-end",cols:"2",md:"1"},{default:t(()=>[l(s,{modelValue:r.quantity,"onUpdate:modelValue":V=>r.quantity=V,clearable:!1,min:"1",placeholder:"1",type:"number",onKeyup:b(v,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[f(p(Ke(d.tax_rate)),1)]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(r.price)),1)]),_:2},1024),l(i,{class:"align-self-end text-center",cols:"3",md:"2"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(a($.Api).HubrisePriceUtil.multiply(r.price,r.quantity))),1)]),_:2},1024),l(i,{cols:"3",md:"1"},{default:t(()=>[l(u,{onClick:V=>We(d,r)},{default:t(()=>[l(R,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(k,{dense:""},{default:t(()=>[l(i,{cols:"0",md:"2"}),l(i,{cols:"12",md:"5"},{default:t(()=>{var r;return[((r=a(C)[d.id])==null?void 0:r.length)>0?(T(),D(z,{key:0,class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"x-small",onClick:V=>_e(d)},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.button.add.itemOption")),1)]),_:2},1032,["onClick"])):O("",!0)]}),_:2},1024),l(i,{cols:"12",md:"4"},{default:t(()=>[d.customer_notes!==void 0?(T(),D(g,{key:0,modelValue:d.customer_notes,"onUpdate:modelValue":r=>d.customer_notes=r,label:("$t"in e?e.$t:a(n))("page.order.add.section.item.itemNotes"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.itemNotes"),"auto-grow":"",counter:"",maxlength:"300",rows:"1",onKeyup:b(v,["enter"])},null,8,["modelValue","onUpdate:modelValue","label","placeholder"])):O("",!0)]),_:2},1024),l(i,{cols:"0",md:"1"})]),_:2},1024)],64))),128)),l(k,{dense:""},{default:t(()=>[l(i,{cols:"12"},{default:t(()=>[l(z,{class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"small",onClick:De},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.button.add.item")),1)]),_:1})]),_:1}),l(i,{class:"px-4 py-8",cols:"6",md:"3"},{default:t(()=>[l(g,{modelValue:J.value,"onUpdate:modelValue":o[21]||(o[21]=d=>J.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.item.customerNotes"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.customerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4",onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{class:"px-4 py-8",cols:"6",md:"3"},{default:t(()=>[l(Ce),l(g,{modelValue:Q.value,"onUpdate:modelValue":o[22]||(o[22]=d=>Q.value=d),label:("$t"in e?e.$t:a(n))("page.order.add.section.item.sellerNotes"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.sellerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4",onKeyup:b(v,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"0",md:"1"}),l(i,{cols:"12",md:"5"},{default:t(()=>[l(k,{dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.subtotal")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(a(G).subtotal)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),_.value===a($.Api).HubriseServiceType.DELIVERY?(T(),D(k,{key:0,dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.deliveryFee")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(a(G).deliveryFee)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1})):O("",!0),l(k,{dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.minimumOrderFee")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(a(G).minimumOrderFee)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),l(k,{dense:""},{default:t(()=>[l(i,{cols:"6",md:"5"},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.total")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:t(()=>[f(p(("displayPrice"in e?e.displayPrice:a(L))(a(G).total)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),l(k,{dense:""},{default:t(()=>[l(i,{cols:"12",md:"9"},{default:t(()=>[l(z,{disabled:!F.value||K.value.length===0,loading:H.value,class:"w-100",onClick:Ne},{default:t(()=>[f(p(("$t"in e?e.$t:a(n))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])]),_:1}),l(i,{cols:"0",md:"3"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])}}}),Aa=ml(Nl,[["__scopeId","data-v-d07f3d81"]]);export{Aa as default};
