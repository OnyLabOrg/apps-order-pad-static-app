import{d as r,h as x,a as h,f,e as _,c as i}from"./Http-BbKGRvpm.js";import{$ as b}from"./api-DfS_sysl.js";import{V as A}from"./VDataTable-CKmMmRTN.js";import{V as O}from"./VChip-D3-GekSD.js";import{V as $}from"./VAvatar-CBLMKjQn.js";import{d as w,r as m,G as H,c as T,e as l,b as c,v as o,m as s,f as a,F as k,o as V,t as d,$ as E}from"./index-2Z5SUNOj.js";import"./index-CvOPxmL5.js";import"./VPagination-DOzgwt-H.js";import"./VSelect-BThvVurc.js";import"./VTextField-DDn27Kxh.js";/* empty css                   */import"./VCounter-ptMbCJeF.js";import"./VImg-BSFXO24j.js";import"./VField-HjR1mbrY.js";import"./form-B4hTdX8Q.js";import"./easing-Bybner-F.js";import"./VInput-D2zQSbWJ.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-B78uSFY5.js";import"./ssrBoot-CmTyIC_N.js";import"./VDivider-BSAz5qCm.js";import"./dialog-transition-BPjQJBH0.js";import"./VMenu-BRPsPoVU.js";import"./VOverlay-Dp1iBSRA.js";import"./delay-j--XzEW8.js";import"./lazy-BYvnRN8T.js";import"./scopeId-DVz3-gab.js";import"./VCheckboxBtn-DAI9ALds.js";import"./VSelectionControl-Da4_5hl8.js";import"./VTable-DKQjal9U.js";import"./filter-BkBed8Wz.js";import"./VSlideGroup-BQjsgayo.js";const I={class:"d-flex align-center"},R={class:"d-flex flex-column ms-3"},C={class:"d-flex align-center"},fe=w({__name:"list",setup(D){const v=[{key:"service_type",title:r("page.order.list.header.serviceType")},{key:"ref",title:r("page.order.list.header.reference")},{key:"channel",title:r("page.order.list.header.channel")},{key:"expected_time",title:r("page.order.list.header.expectedTime")},{key:"total",title:r("page.order.list.header.total")},{key:"status",title:r("page.order.list.header.status")},{key:"created_at",title:r("page.order.list.header.createdAt")}],p=m(),y=m("1x56y-1"),n=m(!1),u=e=>{switch(e){case i.Api.HubriseServiceType.DELIVERY:return{icon:"bx-cycling ",color:"info",text:r("page.order.list.serviceType.delivery")};case i.Api.HubriseServiceType.COLLECTION:return{icon:"bx-shopping-bag",color:"info",text:r("page.order.list.serviceType.pickup")};case i.Api.HubriseServiceType.EAT_IN:return{icon:"bx-table",color:"info",text:r("page.order.list.serviceType.eatIn")}}return{icon:"bx-question-mark",color:"error",text:r("page.order.list.serviceType.unknown")}},g=e=>{switch(e){case i.Api.HubriseOrderStatus.new:return{color:"info",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.received:return{color:"info",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.accepted:return{color:"info",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.in_preparation:return{color:"warning",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.awaiting_shipment:return{color:"warning",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.awaiting_collection:return{color:"warning",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.in_delivery:return{color:"warning",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.completed:return{color:"success",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.rejected:return{color:"error",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.cancelled:return{color:"error",text:r(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.delivery_failed:return{color:"error",text:r(`page.order.list.status.${String(e)}`)}}return{color:"error",text:r("page.order.list.status.unknown")}},S=()=>{n.value=!0,b(`orderpad/orders?locationId=${y.value}`,{method:"GET",onResponseError({response:e}){p.value=[],n.value=!1,x(e)}}).then(e=>{p.value=e.orders,n.value=!1}).catch(e=>{p.value=[],n.value=!1,h(e)})};return H(()=>{S()}),(e,N)=>(V(),T(k,null,[l("h2",null,o(("$t"in e?e.$t:s(r))("page.order.list.title")),1),c(A,{headers:v,items:s(p),"items-per-page":100,loading:s(n),"fixed-header":"","hide-default-footer":"","loading-text":"common.component.loading","no-data-text":"common.component.noData"},{"item.service_type":a(({item:t})=>[l("div",I,[c($,{color:u(t.service_type).color,size:"32",variant:"tonal"},{default:a(()=>[c(E,{icon:u(t.service_type).icon,class:"font-weight-medium"},null,8,["icon"])]),_:2},1032,["color"]),l("div",R,[l("small",null,o(u(t.service_type).text),1)])])]),"item.ref":a(({item:t})=>[l("div",C,o(t.ref)+o(t.private_ref),1)]),"item.total":a(({item:t})=>[d(o(("displayPrice"in e?e.displayPrice:s(_))(t.total)),1)]),"item.status":a(({item:t})=>[c(O,{color:g(t.status).color,class:"font-weight-medium text-uppercase",size:"small"},{default:a(()=>[d(o(g(t.status).text),1)]),_:2},1032,["color"])]),"item.expected_time":a(({item:t})=>[d(o(("displayISO"in e?e.displayISO:s(f))(t.expected_time)),1)]),"item.created_at":a(({item:t})=>[d(o(("displayISO"in e?e.displayISO:s(f))(t.created_at)),1)]),_:1},8,["items","loading"])],64))}});export{fe as default};
