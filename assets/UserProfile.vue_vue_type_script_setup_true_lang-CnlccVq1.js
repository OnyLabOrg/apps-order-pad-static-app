import{C as L}from"./vue3-perfect-scrollbar-WAidkVM0.js";import{d as I,j as h,b5 as n,g as l,l as C,m as e,o as r,f as t,b as o,a0 as u,e as f,t as i,v as c,c as v,F as _,i as P,b6 as A,q as B}from"./index-Cg4rRv0d.js";import{u as N}from"./useAbility-RU1lMgAW.js";import{V}from"./VImg-X_28pwsH.js";import{V as D}from"./VMenu-Bs0xkLkZ.js";import{V as z,a as d,b as y,d as R}from"./VList-BTupwl4z.js";import{V as S}from"./VListItemAction-NurKVrHj.js";import{V as b}from"./VAvatar-BWCSCb9d.js";import{V as T}from"./VBadge-Bz_LXR7g.js";import{V as g}from"./VDivider-DKFvRnyP.js";const j={class:"d-flex gap-2 align-center"},X=I({__name:"UserProfile",setup(F){const m=h(),k=N(),a=n("userData"),x=async()=>{n("jwt").value=null,n("accessToken").value=null,a.value=null,a.value=null,await m.push("/login"),n("userAbilityRules").value=null,await m.push("/login"),n("userAbilityRules").value=null,k.update([])},w=[];return(q,p)=>e(a)?(r(),l(b,{key:0,color:e(a)&&e(a).avatar?void 0:"primary",variant:e(a)&&e(a).avatar?void 0:"tonal",class:"cursor-pointer",size:"38"},{default:t(()=>[e(a)&&e(a).avatar?(r(),l(V,{key:0,src:e(a).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"bx-user"})),o(D,{activator:"parent",location:"bottom end",offset:"20px",width:"240"},{default:t(()=>[o(z,null,{default:t(()=>[o(d,null,{default:t(()=>[f("div",j,[o(S,null,{default:t(()=>[o(b,{color:e(a)&&e(a).avatar?void 0:"primary",variant:e(a)&&e(a).avatar?void 0:"tonal"},{default:t(()=>[e(a)&&e(a).avatar?(r(),l(V,{key:0,src:e(a).avatar},null,8,["src"])):(r(),l(u,{key:1,icon:"bx-user"}))]),_:1},8,["color","variant"])]),_:1}),f("div",null,[o(y,{class:"font-weight-medium"},{default:t(()=>[i(c(e(a).fullName||e(a).username),1)]),_:1}),o(R,{class:"text-disabled text-capitalize"},{default:t(()=>[i(c(e(a).role),1)]),_:1})])])]),_:1}),o(e(L),{options:{wheelPropagation:!1}},{default:t(()=>[(r(),v(_,null,P(w,s=>(r(),v(_,{key:s.title},[s.type==="navItem"?(r(),l(d,{key:0,to:s.to},A({prepend:t(()=>[o(u,{icon:s.icon,size:"22"},null,8,["icon"])]),default:t(()=>[o(y,null,{default:t(()=>[i(c(s.title),1)]),_:2},1024)]),_:2},[s.badgeProps?{name:"append",fn:t(()=>[o(T,B({class:"me-3",rounded:"",ref_for:!0},s.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to"])):(r(),l(g,{key:1,class:"my-1"}))],64))),64)),o(g,{class:"my-1"}),o(d,{"prepend-icon":"bx-power-off",onClick:x},{default:t(()=>p[0]||(p[0]=[i(" Logout ")])),_:1,__:[0]})]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])):C("",!0)}});export{X as _};
