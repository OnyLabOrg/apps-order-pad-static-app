import{D as ce,$ as je,c as g,_ as ze,a as fe,b as n,d as K,h as Be,e as Me}from"./DateUtil-CJ3dzKJM.js";import{d as We,r as v,X as Xe,G as Ge,ai as Ze,c as H,e as V,b as l,v as p,m as a,f as o,ah as R,a as Je,o as E,t as c,di as f,g as L,$ as P,F as ve,i as Se,l as F}from"./index-CGzuIUoa.js";import{_ as Qe}from"./AppTextarea.vue_vue_type_script_setup_true_lang-DI-iCPrL.js";import{_ as xe}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-Bomgyi4c.js";import{_ as el}from"./AppSelect.vue_vue_type_script_setup_true_lang-DB532GBy.js";import{_ as ll}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-9-HOwy4n.js";import{_ as al}from"./AppTextField.vue_vue_type_script_setup_true_lang-CnQmRwnT.js";import{_ as ol}from"./AppCombobox.vue_vue_type_script_setup_true_lang-COd-ZaUI.js";import{$ as tl}from"./api-DyTiM4Nf.js";import{V as T,a as i}from"./VRow-CuWF1_t8.js";import{V as ye,c as be}from"./VCard-CAXKZfzw.js";import{V as $e}from"./VCardText-ldSxu6eX.js";import{V as Ke}from"./VCheckbox-Bi4p49je.js";import{a as dl,V as ge}from"./VTabs-BtdiVKiM.js";import{V as nl,a as Ve}from"./VWindowItem-D1hKz0-n.js";import{V as il}from"./VTextField-T5f2cEop.js";import{V as he}from"./VSpacer-DnaK-HVg.js";import{_ as sl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VSelect-yyi7ut9g.js";import"./form-BbufwhCf.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-Cnf4v35B.js";import"./ssrBoot-KbuNT2rV.js";import"./VImg-DYDZaIAi.js";import"./VAvatar-vzItIhIg.js";import"./VDivider-B3xf7LTj.js";import"./dialog-transition-BDTyaL5v.js";import"./easing-Bybner-F.js";import"./VMenu-C5bfmpBh.js";import"./VOverlay-BtE9rkY0.js";import"./delay-CQobTARq.js";import"./lazy-CQ5tRaVh.js";import"./scopeId-qw4rzcUX.js";import"./VCheckboxBtn-Z_-A_wUY.js";import"./VSelectionControl-CXdjrwnP.js";import"./VChip-darG5n5k.js";import"./VSlideGroup-HT3pII0o.js";/* empty css                   */import"./VCounter-DVFl6LI4.js";import"./VField-B9mHVdeZ.js";import"./VInput-DiLtpaLa.js";import"./filter-DO0q4N2j.js";import"./index-CvOPxmL5.js";/* empty css              */const rl={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},ul={class:"d-flex flex-column justify-center"},pl={class:"text-h4 mb-1"},ml={class:"text-body-1"},cl={class:"d-flex gap-4 align-center flex-wrap"},fl={class:"pe-3"},vl={class:"text-truncate font-weight-medium text-start"},yl={class:"text-truncate font-weight-medium text-start"},bl={class:"text-truncate font-weight-medium text-start"},$l={class:"ps-md-3"},gl={class:"ps-md-3"},Vl={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},hl={class:"flex-grow-1"},Al={class:"flex-grow-1"},Tl={class:"ps-md-3"},kl={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},Cl={class:"flex-grow-1"},El={class:"flex-grow-1"},Ul={class:"mt-5"},_l=We({__name:"add",setup(wl){const j=[{from:"1900-01-01",to:ce.local().minus({days:1}).toISODate()}],Ae=je("common.country"),Le=Object.keys(Ae).map(e=>{var d,u;return{code:e,label:(u=(d=Ae[e])==null?void 0:d.body)==null?void 0:u.static}}).filter(e=>e.label!==void 0),k=v(),z=v(),_=v();let Te=[],S=[],B={},U={};const w=v([{}]),M=v(),W=v(),X=v(),G=v(),Z=v(),O=v(),J=v(!0),Q=v(),x=v(!0),N=v(g.Api.HubriseServiceType.DELIVERY),ee=ce.local().toISODate(),le=ce.local().toISOTime({suppressSeconds:!0,suppressMilliseconds:!0,includeOffset:!1}),ae=v(ee),oe=v(le),te=v(),de=v(),ne=v(),ie=v(),Y=v(),se=v(ee),re=v(le),ue=v(ee),pe=v(le),me=v(),D=v(!1),De=()=>{w.value===void 0||w.value===null||(w.value=w.value.filter(e=>{var d;return e.options=(d=e.options)==null?void 0:d.filter(u=>"id"in u&&u.id!==void 0&&u.id!==null),"id"in e&&e.id!==void 0&&e.id!==null}))},ke=()=>{var u,y,b,h,I,s;let e;switch(N.value){case g.Api.HubriseServiceType.DELIVERY:e=fe(ae.value,oe.value,(y=(u=k.value)==null?void 0:u.timezone)==null?void 0:y.name);break;case g.Api.HubriseServiceType.COLLECTION:e=fe(se.value,re.value,(h=(b=k.value)==null?void 0:b.timezone)==null?void 0:h.name);break;case g.Api.HubriseServiceType.EAT_IN:e=fe(ue.value,pe.value,(s=(I=k.value)==null?void 0:I.timezone)==null?void 0:s.name);break}const d={first_name:X.value,last_name:G.value,company_name:Z.value,email:Q.value,email_marketing:x.value,phone:O.value,sms_marketing:J.value};return N.value===g.Api.HubriseServiceType.DELIVERY&&(d.address_1=te.value,d.address_2=de.value,d.postal_code=ie.value,d.city=ne.value,d.country=Y.value),{service_type:N.value,table_name:me.value??void 0,expected_time:e??void 0,customer:d,items:w.value,customer_notes:M.value,seller_notes:W.value}},q=Xe(()=>new g.Api.TotalHubriseCalculator().calculateTotals(ke(),g.Api.HubriseCurrencyCode.EUR)),Ce=()=>{var d;const e=(d=k.value)==null?void 0:d.id;e!=null&&(D.value=!0,De(),tl("orderpad/order",{method:"POST",body:{locationId:e,...ke()},onResponseError({response:u}){D.value=!1,Be(u)}}).then(u=>{var y;D.value=!1,alert(`Order ${(y=u.order)==null?void 0:y.ref} created!`),window.location.reload()}).catch(u=>{D.value=!1,Me(u)}))},Ee=e=>{if(typeof e=="object"&&e!==null)switch(N.value){case g.Api.HubriseServiceType.DELIVERY:return`${e.delivery}%`;case g.Api.HubriseServiceType.COLLECTION:return`${e.collection}%`;case g.Api.HubriseServiceType.EAT_IN:return`${e.eat_in}%`}return""},Pe=()=>{var d,u,y,b,h,I;if(_.value===void 0||_.value===null)return;const e={};(y=(u=(d=_.value)==null?void 0:d.data)==null?void 0:u.categories)==null||y.forEach(s=>{e[s.id]=s.name}),S=((I=(h=(b=_.value)==null?void 0:b.data)==null?void 0:h.products)==null?void 0:I.map(s=>{var t,r;const $=s.ref??(((t=s.skus)==null?void 0:t.length)===1&&(!Array.isArray(s.skus[0].option_list_ids)||s.skus[0].option_list_ids.length===0)?s.skus[0].ref:null),A=((r=s.skus)==null?void 0:r.length)===1&&(!Array.isArray(s.skus[0].option_list_ids)||s.skus[0].option_list_ids.length===0)?s.skus[0].price:null;return{id:s.id,sku_ref:$,category:e[s.category_id],product_name:s.name,quantity:1,tax_rate:s.tax_rate,price:A,customer_notes:void 0}}).sort((s,$)=>{var A,t;return((A=s.category)==null?void 0:A.localeCompare($.category??""))||((t=s.name)==null?void 0:t.localeCompare($.name??""))}))??[],Te=(S==null?void 0:S.filter(s=>s.sku_ref!==void 0&&s.sku_ref!==null))??[]},Oe=()=>{var d,u,y,b,h,I;if(_.value===void 0||_.value===null)return;const e={};(y=(u=(d=_.value)==null?void 0:d.data)==null?void 0:u.option_lists)==null||y.forEach(s=>{e[s.id]=s}),U={},(I=(h=(b=_.value)==null?void 0:b.data)==null?void 0:h.products)==null||I.forEach(s=>{U[s.id]=[],!(!Array.isArray(s.skus)||s.skus.length===0||!Array.isArray(s.skus[0].option_list_ids)||s.skus[0].option_list_ids.length===0)&&(s.skus.forEach($=>{if(Array.isArray($.option_list_ids)&&$.option_list_ids.length>0)$.option_list_ids.forEach(A=>{const t=e[A];t!==void 0&&(!Array.isArray(t.options)||t.options.length===0||t.options.forEach(r=>{const C=g.Api.HubrisePriceUtil.sum([$.price??null,r.price??null]);U[s.id].push({id:`${$.id}-${t.id}-${r.id}`,ref:r.ref??null,option_list_name:t.name,name:r.name,quantity:1,price:C})}))});else{const A=$.price??null;U[s.id].push({id:$.id,ref:$.ref??null,name:$.name,quantity:1,price:A})}}),U[s.id].sort(($,A)=>{var t;return(t=$.name)==null?void 0:t.localeCompare(A.name??"")}))}),B={},Object.keys(U).forEach(s=>{var $;B[s]=(($=U[s])==null?void 0:$.filter(A=>A.ref!==void 0&&A.ref!==null))??[]})},Ue=()=>{w.value.push({})},He=e=>{const d=w.value.findIndex(u=>u===e);d>=0&&w.value.splice(d,1)},_e=e=>{Array.isArray(e.options)||(e.options=[]),e.options.push({})},Re=(e,d)=>{const u=e.options.findIndex(y=>y===d);u>=0&&e.options.splice(u,1)},we=(e,d)=>{const u=S==null?void 0:S.find(y=>y.id===e);u!==void 0&&(g.Util.ObjectUtil.update(d,u),Array.isArray(U[e])&&U[e].length>0&&_e(d))},Ie=(e,d,u)=>{var b;const y=(b=U[e])==null?void 0:b.find(h=>h.id===d);y!==void 0&&g.Util.ObjectUtil.update(u,y)},Ne=e=>{const d=e.target;d.tagName==="INPUT"||d.tagName==="TEXTAREA"||d.isContentEditable||(e.key==="+"||e.key==="Add"||e.code==="NumpadAdd"||e.shiftKey&&(e.key==="="||e.code==="Equal"))&&Ue()},m=e=>{if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();const d=Array.from(document.querySelectorAll('input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(b=>b.offsetParent!==null),u=d.indexOf(e.target),y=d[u+1];y&&y.focus()}},Fe=e=>{var d;k.value=e,typeof((d=k.value)==null?void 0:d.country)=="string"&&(Y.value=k.value.country)},Ye=e=>{z.value=e},qe=e=>{_.value=e,Pe(),Oe()};return Ge(()=>{window.addEventListener("keydown",Ne)}),Ze(()=>{window.removeEventListener("keydown",Ne)}),(e,d)=>{const u=ze,y=ol,b=al,h=ll,I=el,s=xe,$=Je("IconBtn"),A=Qe;return E(),H("div",null,[V("div",rl,[V("div",ul,[V("h4",pl,p(("$t"in e?e.$t:a(n))("page.order.add.title")),1),V("div",ml,p(("$t"in e?e.$t:a(n))("page.order.add.subtitle")),1)]),V("div",cl,[l(u,{"enable-catalogs":"","enable-customer-lists":"","enable-locations":"",onUpdateLocation:Fe,onUpdateCustomerList:Ye,onUpdateCatalog:qe}),l(R,{color:"secondary",onclick:"window.location.reload()",variant:"tonal"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.button.discard")),1)]),_:1}),l(R,{disabled:!O.value||w.value.length===0,loading:D.value,onClick:Ce},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])])]),l(T,{dense:""},{default:o(()=>[l(i,{cols:"12",md:"4"},{default:o(()=>[l(ye,{disabled:!k.value||!z.value,loading:!k.value||!z.value,class:"mb-6 fill-height"},{default:o(()=>[l(be,null,{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.customer.title")),1)]),_:1}),l($e,{class:"pb-0"},{default:o(()=>[l(T,{dense:""},{default:o(()=>[l(i,{cols:"12"},{default:o(()=>[l(y,{modelValue:O.value,"onUpdate:modelValue":d[0]||(d[0]=t=>O.value=t),items:[],label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.phone.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.phone.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(Ke,{modelValue:J.value,"onUpdate:modelValue":d[1]||(d[1]=t=>J.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.smsMarketing.label"),onKeyup:f(m,["enter"])},null,8,["modelValue","label"])]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(y,{modelValue:Q.value,"onUpdate:modelValue":d[2]||(d[2]=t=>Q.value=t),items:[],label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.email.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.email.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(Ke,{modelValue:x.value,"onUpdate:modelValue":d[3]||(d[3]=t=>x.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.emailMarketing.label"),onKeyup:f(m,["enter"])},null,8,["modelValue","label"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(b,{modelValue:X.value,"onUpdate:modelValue":d[4]||(d[4]=t=>X.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.firstName.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.firstName.placeholder"),class:"mb-3",onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(b,{modelValue:G.value,"onUpdate:modelValue":d[5]||(d[5]=t=>G.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.lastName.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.lastName.placeholder"),class:"mb-3",onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(b,{modelValue:Z.value,"onUpdate:modelValue":d[6]||(d[6]=t=>Z.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.customer.company.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.customer.company.placeholder"),class:"mb-3",onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(i,{cols:"12",md:"8"},{default:o(()=>[l(ye,{disabled:!k.value,loading:!k.value,class:"action-card mb-6 fill-height"},{default:o(()=>[l(be,null,{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.action.title")),1)]),_:1}),l($e,{class:"pb-0"},{default:o(()=>[l(T,{dense:""},{default:o(()=>[l(i,{cols:"12",md:"4"},{default:o(()=>[V("div",fl,[l(dl,{modelValue:N.value,"onUpdate:modelValue":d[7]||(d[7]=t=>N.value=t),class:"v-tabs-pill",color:"primary",direction:"vertical"},{default:o(()=>[(E(),L(ge,{key:0,value:a(g.Api).HubriseServiceType.DELIVERY},{default:o(()=>[l(P,{class:"me-2",icon:"mdi-moped"}),V("div",vl,p(("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.title")),1)]),_:1},8,["value"])),(E(),L(ge,{key:1,value:a(g.Api).HubriseServiceType.COLLECTION},{default:o(()=>[l(P,{class:"me-2",icon:"bx-walk"}),V("div",yl,p(("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.title")),1)]),_:1},8,["value"])),(E(),L(ge,{key:2,value:a(g.Api).HubriseServiceType.EAT_IN},{default:o(()=>[l(P,{class:"me-2",icon:"ic-baseline-table-bar"}),V("div",bl,p(("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.title")),1)]),_:1},8,["value"]))]),_:1},8,["modelValue"])])]),_:1}),l(i,{cols:"12",md:"8"},{default:o(()=>[l(nl,{modelValue:N.value,"onUpdate:modelValue":d[20]||(d[20]=t=>N.value=t),touch:!1,class:"w-100"},{default:o(()=>[l(Ve,{value:a(g.Api).HubriseServiceType.DELIVERY},{default:o(()=>[V("div",$l,[l(T,null,{default:o(()=>[l(i,{cols:"6"},{default:o(()=>[l(h,{modelValue:ae.value,"onUpdate:modelValue":d[8]||(d[8]=t=>ae.value=t),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:j},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.date.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.date.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","config","label","placeholder"])]),_:1}),l(i,{cols:"6"},{default:o(()=>[l(h,{modelValue:oe.value,"onUpdate:modelValue":d[9]||(d[9]=t=>oe.value=t),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.time.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.time.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(b,{modelValue:te.value,"onUpdate:modelValue":d[10]||(d[10]=t=>te.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address1.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address1.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(b,{modelValue:de.value,"onUpdate:modelValue":d[11]||(d[11]=t=>de.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address2.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.address2.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(b,{modelValue:ne.value,"onUpdate:modelValue":d[12]||(d[12]=t=>ne.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.city.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.city.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12",md:"6"},{default:o(()=>[l(b,{modelValue:ie.value,"onUpdate:modelValue":d[13]||(d[13]=t=>ie.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.zipcode.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.zipcode.placeholder"),type:"number",onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"12"},{default:o(()=>[l(I,{modelValue:Y.value,"onUpdate:modelValue":d[14]||(d[14]=t=>Y.value=t),items:a(Le),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.country.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.delivery.country.placeholder"),"item-title":"label","item-value":"code",onKeyup:f(m,["enter"])},null,8,["modelValue","items","label","placeholder"])]),_:1})]),_:1})])]),_:1},8,["value"]),l(Ve,{value:a(g.Api).HubriseServiceType.COLLECTION},{default:o(()=>[V("div",gl,[V("div",Vl,[V("div",hl,[l(h,{modelValue:se.value,"onUpdate:modelValue":d[15]||(d[15]=t=>se.value=t),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:j},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.date.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.date.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","config","label","placeholder"])]),V("div",Al,[l(h,{modelValue:re.value,"onUpdate:modelValue":d[16]||(d[16]=t=>re.value=t),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.time.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.pickup.time.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])])])])]),_:1},8,["value"]),l(Ve,{value:a(g.Api).HubriseServiceType.EAT_IN},{default:o(()=>[V("div",Tl,[V("div",kl,[V("div",Cl,[l(h,{modelValue:ue.value,"onUpdate:modelValue":d[17]||(d[17]=t=>ue.value=t),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:j},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.date.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.date.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","config","label","placeholder"])]),V("div",El,[l(h,{modelValue:pe.value,"onUpdate:modelValue":d[18]||(d[18]=t=>pe.value=t),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.time.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.time.placeholder"),onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])])]),V("div",Ul,[l(il,{modelValue:me.value,"onUpdate:modelValue":d[19]||(d[19]=t=>me.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.table.label"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.action.eatin.table.placeholder"),variant:"underlined",onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])])])]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(i,{class:"pt-0 mt-0",cols:"12",md:"12"},{default:o(()=>[l(ye,{disabled:!k.value||!_.value,loading:!k.value||!_.value},{default:o(()=>[l(be,null,{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.title")),1)]),_:1}),l($e,null,{default:o(()=>[l(T,{dense:""},{default:o(()=>[l(i,{cols:"2",md:"2"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.reference")),1)]),_:1}),l(i,{cols:"2",md:"4"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.name")),1)]),_:1}),l(i,{cols:"2",md:"1"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.quantity")),1)]),_:1}),l(i,{cols:"2",md:"1"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.vat")),1)]),_:1}),l(i,{cols:"1",md:"1"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.price")),1)]),_:1}),l(i,{class:"text-center",cols:"2",md:"2"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.subtotal")),1)]),_:1}),l(i,{cols:"1",md:"1"})]),_:1}),(E(!0),H(ve,null,Se(w.value,t=>(E(),H(ve,{key:t.id},[l(T,{dense:""},{default:o(()=>[l(i,{cols:"4",md:"2"},{default:o(()=>[t.sku_ref!==null?(E(),L(s,{key:0,modelValue:t.sku_ref,"onUpdate:modelValue":[r=>t.sku_ref=r,r=>we(r,t)],items:a(Te),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.reference"),"item-title":"sku_ref","item-value":"id","no-data-text":"common.component.noData",onKeyup:f(m,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):F("",!0)]),_:2},1024),l(i,{cols:"6",md:"4"},{default:o(()=>[l(s,{modelValue:t.product_name,"onUpdate:modelValue":[r=>t.product_name=r,r=>we(r,t)],items:a(S),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.name"),"item-title":"product_name","item-value":"id","no-data-text":"common.component.noData",onKeyup:f(m,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(i,{cols:"2",md:"1"},{default:o(()=>[l(b,{modelValue:t.quantity,"onUpdate:modelValue":r=>t.quantity=r,clearable:!1,min:"1",placeholder:"1",type:"number",onKeyup:f(m,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:o(()=>[c(p(Ee(t.tax_rate)),1)]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(t.price)),1)]),_:2},1024),l(i,{class:"align-self-end text-center",cols:"3",md:"2"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(a(g.Api).HubrisePriceUtil.multiply(t.price,t.quantity))),1)]),_:2},1024),l(i,{class:"px-0",cols:"3",md:"1"},{default:o(()=>[l($,{"x-small":"",onClick:r=>t.customer_notes=t.customer_notes===void 0?null:void 0},{default:o(()=>[l(P,{icon:"bx-edit"})]),_:2},1032,["onClick"]),l($,{onClick:r=>He(t)},{default:o(()=>[l(P,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),(E(!0),H(ve,null,Se(t.options,r=>(E(),H("div",{key:r.ref},[l(T,{dense:""},{default:o(()=>[l(i,{class:"d-flex align-self-end",cols:"4",md:"2"},{default:o(()=>[l(he),r.ref!==null?(E(),L(s,{key:0,modelValue:r.ref,"onUpdate:modelValue":[C=>r.ref=C,C=>Ie(t.id,C,r)],items:a(B)[t.id],placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.reference"),"item-title":"ref","item-value":"id","no-data-text":"common.component.noData",onKeyup:f(m,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):F("",!0)]),_:2},1024),l(i,{class:"d-flex align-self-end",cols:"6",md:"4"},{default:o(()=>[l(he),l(s,{modelValue:r.name,"onUpdate:modelValue":[C=>r.name=C,C=>Ie(t.id,C,r)],items:a(U)[t.id],placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.name"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",onKeyup:f(m,["enter"])},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(i,{class:"d-flex align-self-end",cols:"2",md:"1"},{default:o(()=>[l(b,{modelValue:r.quantity,"onUpdate:modelValue":C=>r.quantity=C,clearable:!1,min:"1",placeholder:"1",type:"number",onKeyup:f(m,["enter"])},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:o(()=>[c(p(Ee(t.tax_rate)),1)]),_:2},1024),l(i,{class:"align-self-end",cols:"3",md:"1"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(r.price)),1)]),_:2},1024),l(i,{class:"align-self-end text-center",cols:"3",md:"2"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(a(g.Api).HubrisePriceUtil.multiply(r.price,r.quantity))),1)]),_:2},1024),l(i,{cols:"3",md:"1"},{default:o(()=>[l($,{onClick:C=>Re(t,r)},{default:o(()=>[l(P,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(T,{dense:""},{default:o(()=>[l(i,{cols:"0",md:"2"}),l(i,{cols:"12",md:"5"},{default:o(()=>{var r;return[((r=a(U)[t.id])==null?void 0:r.length)>0?(E(),L(R,{key:0,class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"x-small",onClick:C=>_e(t)},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.button.add.itemOption")),1)]),_:2},1032,["onClick"])):F("",!0)]}),_:2},1024),l(i,{cols:"12",md:"4"},{default:o(()=>[t.customer_notes!==void 0?(E(),L(A,{key:0,modelValue:t.customer_notes,"onUpdate:modelValue":r=>t.customer_notes=r,label:("$t"in e?e.$t:a(n))("page.order.add.section.item.itemNotes"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.itemNotes"),"auto-grow":"",counter:"",maxlength:"300",rows:"1",onKeyup:f(m,["enter"])},null,8,["modelValue","onUpdate:modelValue","label","placeholder"])):F("",!0)]),_:2},1024),l(i,{cols:"0",md:"1"})]),_:2},1024)],64))),128)),l(T,{dense:""},{default:o(()=>[l(i,{cols:"12"},{default:o(()=>[l(R,{class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"small",onClick:Ue},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.button.add.item")),1)]),_:1})]),_:1}),l(i,{class:"px-4 py-8",cols:"6",md:"3"},{default:o(()=>[l(A,{modelValue:M.value,"onUpdate:modelValue":d[21]||(d[21]=t=>M.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.item.customerNotes"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.customerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4",onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{class:"px-4 py-8",cols:"6",md:"3"},{default:o(()=>[l(he),l(A,{modelValue:W.value,"onUpdate:modelValue":d[22]||(d[22]=t=>W.value=t),label:("$t"in e?e.$t:a(n))("page.order.add.section.item.sellerNotes"),placeholder:("$t"in e?e.$t:a(n))("page.order.add.section.item.sellerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4",onKeyup:f(m,["enter"])},null,8,["modelValue","label","placeholder"])]),_:1}),l(i,{cols:"0",md:"1"}),l(i,{cols:"12",md:"5"},{default:o(()=>[l(T,{dense:""},{default:o(()=>[l(i,{cols:"6",md:"5"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.subtotal")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(a(q).subtotal)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),N.value===a(g.Api).HubriseServiceType.DELIVERY?(E(),L(T,{key:0,dense:""},{default:o(()=>[l(i,{cols:"6",md:"5"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.deliveryFee")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(a(q).deliveryFee)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1})):F("",!0),l(T,{dense:""},{default:o(()=>[l(i,{cols:"6",md:"5"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.minimumOrderFee")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(a(q).minimumOrderFee)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),l(T,{dense:""},{default:o(()=>[l(i,{cols:"6",md:"5"},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.section.item.total")),1)]),_:1}),l(i,{class:"text-center",cols:"6",md:"4"},{default:o(()=>[c(p(("displayPrice"in e?e.displayPrice:a(K))(a(q).total)),1)]),_:1}),l(i,{cols:"0",md:"3"})]),_:1}),l(T,{dense:""},{default:o(()=>[l(i,{cols:"12",md:"9"},{default:o(()=>[l(R,{disabled:!O.value||w.value.length===0,loading:D.value,class:"w-100",onClick:Ce},{default:o(()=>[c(p(("$t"in e?e.$t:a(n))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])]),_:1}),l(i,{cols:"0",md:"3"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])}}}),ha=sl(_l,[["__scopeId","data-v-b4a21ba8"]]);export{ha as default};
