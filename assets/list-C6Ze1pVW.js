import{$ as t}from"./TranslationUtil-iA-_8rvb.js";import{u as S,a as h,d as b}from"./PriceUtil-c_AopviW.js";import{u as $,_ as A,h as w,c as O}from"./AppSelectContext.vue_vue_type_script_setup_true_lang-DsS66423.js";import{c as i}from"./common-api.web.min-rTQUY9Dn.js";import k from"./card-order-details-BLjEOzzh.js";import{$ as H}from"./api-DkMcx6fU.js";import{V as T}from"./VDataTable-Bd-aCB44.js";import{V}from"./VChip-CtyKsiMy.js";import{V as E}from"./VAvatar-BRY-AJoa.js";import{d as C,r as x,G as I,ai as L,c as D,e as o,b as c,v as a,m as n,f as s,o as R,t as m,$ as N}from"./index-ejnCtUGA.js";import"./VSelect-DlStX5pa.js";import"./VTextField-B0kQpFbJ.js";/* empty css                   */import"./VCounter-DEho80lv.js";import"./VImg-DdMQF8MC.js";import"./VField-Bil2v6rY.js";import"./form-5cEBvu3-.js";import"./easing-Bybner-F.js";import"./VInput-BIjg7M-z.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-ChwU2q6H.js";import"./ssrBoot-ZhS8lX-f.js";import"./VDivider-BP4dqRzB.js";import"./dialog-transition-BiZD43I4.js";import"./VMenu-BYYkS9Ta.js";import"./VOverlay-B6o2eSp3.js";import"./delay-O0f7JjIk.js";import"./lazy-StFmqHLl.js";import"./scopeId-iDSTJDMc.js";import"./VCheckboxBtn-D9iq6TY1.js";import"./VSelectionControl-CoKzgLhw.js";import"./VCard-Dv3sLbCW.js";import"./VCardText-BcVi6aFB.js";import"./VRow-BWZkbZvw.js";/* empty css              */import"./VTable-CvzquGxj.js";import"./VAlert-BDby3Y60.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VSlideGroup-BgEUAsN9.js";import"./index-CvOPxmL5.js";import"./VPagination-BNlpd6rI.js";import"./filter-CT4BMegE.js";const j={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},P={class:"d-flex flex-column justify-center"},q={class:"text-h4 mb-1"},B={class:"text-body-1"},z={class:"d-flex gap-4 align-center flex-wrap"},G={class:"v-data-table__tr"},M=["colspan"],U={class:"d-flex align-center"},Y={class:"d-flex flex-column ms-3"},F={class:"d-flex align-center"},Ne=C({__name:"list",setup(J){const g=[{key:"data-table-expand",title:""},{key:"service_type",title:t("page.order.list.header.serviceType")},{key:"ref",title:t("page.order.list.header.reference")},{key:"channel",title:t("page.order.list.header.channel")},{key:"expected_time",title:t("page.order.list.header.expectedTime")},{key:"total",title:t("page.order.list.header.total")},{key:"status",title:t("page.order.list.header.status")},{key:"created_at",title:t("page.order.list.header.createdAt")}],l=x(),d=x(!1),u=e=>{switch(e){case i.Api.HubriseServiceType.DELIVERY:return{icon:"bx-cycling ",color:"info",text:t("page.order.list.serviceType.delivery")};case i.Api.HubriseServiceType.COLLECTION:return{icon:"bx-shopping-bag",color:"info",text:t("page.order.list.serviceType.pickup")};case i.Api.HubriseServiceType.EAT_IN:return{icon:"bx-table",color:"info",text:t("page.order.list.serviceType.eatIn")}}return{icon:"bx-question-mark",color:"error",text:t("page.order.list.serviceType.unknown")}},f=e=>{switch(e){case i.Api.HubriseOrderStatus.new:return{color:"info",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.received:return{color:"info",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.accepted:return{color:"info",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.in_preparation:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.awaiting_shipment:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.awaiting_collection:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.in_delivery:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.completed:return{color:"success",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.rejected:return{color:"error",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.cancelled:return{color:"error",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.delivery_failed:return{color:"error",text:t(`page.order.list.status.${String(e)}`)}}return{color:"error",text:t("page.order.list.status.unknown")}},_=e=>{if(typeof(e==null?void 0:e.id)!="string"){l.value=void 0;return}d.value=!0,H(`orderpad/orders?locationId=${e.id}`,{method:"GET",onResponseError({response:p}){l.value=[],d.value=!1,w(p)}}).then(p=>{l.value=p.orders,d.value=!1}).catch(p=>{l.value=[],d.value=!1,O(p)})},v=$();return I(()=>{S("page.order.list.title"),v.onCurrentLocationChange(_)}),L(()=>{v.offCurrentLocationChange(_)}),(e,p)=>{const y=A;return R(),D("div",null,[o("div",j,[o("div",P,[o("h4",q,a(("$t"in e?e.$t:n(t))("page.order.list.title")),1),o("div",B,a(("$t"in e?e.$t:n(t))("page.order.add.subtitle")),1)]),o("div",z,[c(y,{"enable-locations":""})])]),c(T,{headers:g,items:n(l),"items-per-page":100,loading:n(d)||n(l)===void 0,"expand-on-click":"","fixed-header":"","hide-default-footer":"","loading-text":"common.component.loading","no-data-text":"common.component.noData"},{"expanded-row":s(r=>[o("tr",G,[o("td",{colspan:g.length,class:"pa-0"},[c(k,{order:r.item},null,8,["order"])],8,M)])]),"item.service_type":s(({item:r})=>[o("div",U,[c(E,{color:u(r.service_type).color,size:"32",variant:"tonal"},{default:s(()=>[c(N,{icon:u(r.service_type).icon,class:"font-weight-medium"},null,8,["icon"])]),_:2},1032,["color"]),o("div",Y,[o("small",null,a(u(r.service_type).text),1)])])]),"item.ref":s(({item:r})=>[o("div",F,a(r.ref)+a(r.private_ref),1)]),"item.total":s(({item:r})=>[m(a(("displayPrice"in e?e.displayPrice:n(b))(r.total)),1)]),"item.status":s(({item:r})=>[c(V,{color:f(r.status).color,class:"font-weight-medium text-uppercase",size:"small"},{default:s(()=>[m(a(f(r.status).text),1)]),_:2},1032,["color"])]),"item.expected_time":s(({item:r})=>[m(a(("displayISO"in e?e.displayISO:n(h))(r.expected_time)),1)]),"item.created_at":s(({item:r})=>[m(a(("displayISO"in e?e.displayISO:n(h))(r.created_at)),1)]),_:1},8,["items","loading"])])}}});export{Ne as default};
