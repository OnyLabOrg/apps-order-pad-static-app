import{b as t,u as h,_ as S,f,d as b,c as i,h as $,e as A}from"./usePageTitle-CqbNqSqd.js";import{$ as w}from"./api-Brj4jFeS.js";import{V as O}from"./VDataTable-QXqwuV61.js";import{V as H}from"./VChip-BWmUlt0U.js";import{V as T}from"./VAvatar-BgC6LL0I.js";import{d as k,r as v,G as V,c as E,e as o,b as d,v as s,m as a,f as n,o as I,t as u,$ as C}from"./index-COqMKCgg.js";import"./VSelect-DpChkzqK.js";import"./VTextField-C19SfSKN.js";/* empty css                   */import"./VCounter-Be5VITaO.js";import"./VImg-DaGJ1_Os.js";import"./VField-Ct_9yire.js";import"./form-B5uwsC9j.js";import"./easing-Bybner-F.js";import"./VInput-Bbcx9FjL.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-DP-FoOux.js";import"./ssrBoot-CnvG9pqo.js";import"./VDivider-DUSD4_KA.js";import"./dialog-transition-DOaRjBR7.js";import"./VMenu-DnPlA8b6.js";import"./VOverlay-C5w4NThP.js";import"./delay-BNokAjSK.js";import"./lazy-Cgg1_D9y.js";import"./scopeId-CoZYiY68.js";import"./VCheckboxBtn-CenL3DzV.js";import"./VSelectionControl-DWo7Ncat.js";import"./index-CvOPxmL5.js";import"./VPagination-Sah_rPqx.js";import"./VTable-BQ8fxY3q.js";import"./filter-4eIHPorK.js";import"./VSlideGroup-CP03SBn5.js";const R={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},D={class:"d-flex flex-column justify-center"},L={class:"text-h4 mb-1"},N={class:"text-body-1"},j={class:"d-flex gap-4 align-center flex-wrap"},P={class:"d-flex align-center"},q={class:"d-flex flex-column ms-3"},B={class:"d-flex align-center"},Se=k({__name:"list",setup(z){const _=[{key:"service_type",title:t("page.order.list.header.serviceType")},{key:"ref",title:t("page.order.list.header.reference")},{key:"channel",title:t("page.order.list.header.channel")},{key:"expected_time",title:t("page.order.list.header.expectedTime")},{key:"total",title:t("page.order.list.header.total")},{key:"status",title:t("page.order.list.header.status")},{key:"created_at",title:t("page.order.list.header.createdAt")}],l=v(),c=v(!1),m=e=>{switch(e){case i.Api.HubriseServiceType.DELIVERY:return{icon:"bx-cycling ",color:"info",text:t("page.order.list.serviceType.delivery")};case i.Api.HubriseServiceType.COLLECTION:return{icon:"bx-shopping-bag",color:"info",text:t("page.order.list.serviceType.pickup")};case i.Api.HubriseServiceType.EAT_IN:return{icon:"bx-table",color:"info",text:t("page.order.list.serviceType.eatIn")}}return{icon:"bx-question-mark",color:"error",text:t("page.order.list.serviceType.unknown")}},g=e=>{switch(e){case i.Api.HubriseOrderStatus.new:return{color:"info",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.received:return{color:"info",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.accepted:return{color:"info",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.in_preparation:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.awaiting_shipment:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.awaiting_collection:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.in_delivery:return{color:"warning",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.completed:return{color:"success",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.rejected:return{color:"error",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.cancelled:return{color:"error",text:t(`page.order.list.status.${String(e)}`)};case i.Api.HubriseOrderStatus.delivery_failed:return{color:"error",text:t(`page.order.list.status.${String(e)}`)}}return{color:"error",text:t("page.order.list.status.unknown")}},x=e=>{if(typeof(e==null?void 0:e.id)!="string"){l.value=void 0;return}c.value=!0,w(`orderpad/orders?locationId=${e.id}`,{method:"GET",onResponseError({response:p}){l.value=[],c.value=!1,$(p)}}).then(p=>{l.value=p.orders,c.value=!1}).catch(p=>{l.value=[],c.value=!1,A(p)})};return V(()=>{h("page.order.list.title")}),(e,p)=>{const y=S;return I(),E("div",null,[o("div",R,[o("div",D,[o("h4",L,s(("$t"in e?e.$t:a(t))("page.order.list.title")),1),o("div",N,s(("$t"in e?e.$t:a(t))("page.order.add.subtitle")),1)]),o("div",j,[d(y,{"enable-locations":"",onUpdateLocation:x})])]),d(O,{headers:_,items:a(l),"items-per-page":100,loading:a(c)||a(l)===void 0,"fixed-header":"","hide-default-footer":"","loading-text":"common.component.loading","no-data-text":"common.component.noData"},{"item.service_type":n(({item:r})=>[o("div",P,[d(T,{color:m(r.service_type).color,size:"32",variant:"tonal"},{default:n(()=>[d(C,{icon:m(r.service_type).icon,class:"font-weight-medium"},null,8,["icon"])]),_:2},1032,["color"]),o("div",q,[o("small",null,s(m(r.service_type).text),1)])])]),"item.ref":n(({item:r})=>[o("div",B,s(r.ref)+s(r.private_ref),1)]),"item.total":n(({item:r})=>[u(s(("displayPrice"in e?e.displayPrice:a(b))(r.total)),1)]),"item.status":n(({item:r})=>[d(H,{color:g(r.status).color,class:"font-weight-medium text-uppercase",size:"small"},{default:n(()=>[u(s(g(r.status).text),1)]),_:2},1032,["color"])]),"item.expected_time":n(({item:r})=>[u(s(("displayISO"in e?e.displayISO:a(f))(r.expected_time)),1)]),"item.created_at":n(({item:r})=>[u(s(("displayISO"in e?e.displayISO:a(f))(r.created_at)),1)]),_:1},8,["items","loading"])])}}});export{Se as default};
