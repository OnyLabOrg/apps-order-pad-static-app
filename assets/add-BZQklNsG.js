import{D as be,$ as We,c as g,h as F,a as Y,b as ge,d as i,e as P}from"./Http-DAVOhRVY.js";import{_ as Xe}from"./AppTextarea.vue_vue_type_script_setup_true_lang-D2uO_zz9.js";import{_ as Ze}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-Di7bhLmv.js";import{_ as Je}from"./AppSelect.vue_vue_type_script_setup_true_lang-URYQjb66.js";import{_ as Qe}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-DCHbLOdP.js";import{_ as xe}from"./AppTextField.vue_vue_type_script_setup_true_lang-CYRJjhax.js";import{_ as el}from"./AppCombobox.vue_vue_type_script_setup_true_lang-Cocy_evx.js";import{$ as q}from"./api-DMUwa_2M.js";import{V as $e}from"./VSelect-oCZ2jbvR.js";import{d as ll,r as p,X as al,G as ol,ai as dl,c as j,e as y,b as l,v as c,m as a,g as N,l as L,f as d,ah as z,a as tl,o as V,t as v,$ as H,F as ye,i as Fe}from"./index-_2q5O87n.js";import{V as h,a as n}from"./VRow-BIp6CPcy.js";import{V as Ve,c as he}from"./VCard-BAFNvWtU.js";import{V as Te}from"./VCardText-Di88QCTY.js";import{V as Ye}from"./VCheckbox-Cv8ndrKt.js";import{a as il,V as ke}from"./VTabs-DadK8aD6.js";import{V as nl,a as Ae}from"./VWindowItem-cm7saVUp.js";import{V as sl}from"./VTextField-Juawp-aG.js";import{V as Ee}from"./VSpacer-0V-iugSf.js";import{_ as rl}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                   */import"./VCounter-DMJIEhlw.js";import"./VImg-6unPh9DX.js";import"./VField-e4IRYGyy.js";import"./form-CglUAt7O.js";import"./easing-Bybner-F.js";import"./VInput-B46Bqqvk.js";import"./forwardRefs-C-GTDzx5.js";import"./filter-lWdL757B.js";import"./VList-3JjDE_44.js";import"./ssrBoot-DH8hCZNR.js";import"./VAvatar-Dh_JYo5x.js";import"./VDivider-7clJ8WA6.js";import"./VMenu-8LzHLVlu.js";import"./VOverlay-idNlhb4L.js";import"./delay-BrAYRTyV.js";import"./lazy-BKfU7qBn.js";import"./scopeId-C-fbOItO.js";import"./dialog-transition-Dk8axYKd.js";import"./VCheckboxBtn-Cs_1ixim.js";import"./VSelectionControl-BWwEwUfg.js";import"./VChip-Bt0lz1Zv.js";import"./VSlideGroup-Ck9ecdSO.js";import"./index-CvOPxmL5.js";/* empty css              */const ul={class:"d-flex flex-wrap justify-start justify-sm-space-between gap-y-4 gap-x-6 mb-6"},ml={class:"d-flex flex-column justify-center"},cl={class:"text-h4 mb-1"},pl={class:"text-body-1"},vl={class:"d-flex gap-4 align-center flex-wrap"},fl={class:"pe-3"},bl={class:"text-truncate font-weight-medium text-start"},gl={class:"text-truncate font-weight-medium text-start"},$l={class:"text-truncate font-weight-medium text-start"},yl={class:"ps-md-3"},Vl={class:"ps-md-3"},hl={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},Tl={class:"flex-grow-1"},kl={class:"flex-grow-1"},Al={class:"ps-md-3"},El={class:"d-flex flex-sm-row flex-column flex-wrap justify-space-between gap-x-6 gap-y-4"},Ul={class:"flex-grow-1"},Cl={class:"flex-grow-1"},wl={class:"mt-5"},Sl=ll({__name:"add",setup(Il){const G=[{from:"1900-01-01",to:be.local().minus({days:1}).toISODate()}],Ue=We("common.country"),qe=Object.keys(Ue).map(e=>{var o,m;return{code:e,label:(m=(o=Ue[e])==null?void 0:o.body)==null?void 0:m.static}}).filter(e=>e.label!==void 0),T=p(),K=p(),k=p();let Ce=[],D=[],W={},E={};const U=p();U.value=null;const C=p();C.value=null;const S=p();S.value=null;const I=p([{}]),X=p(),Z=p(),J=p(),Q=p(),x=p(),R=p(),ee=p(!0),le=p(),ae=p(!0),_=p(g.Api.HubriseServiceType.DELIVERY),oe=be.local().toISODate(),de=be.local().toISOTime({suppressSeconds:!0,suppressMilliseconds:!0,includeOffset:!1}),te=p(oe),ie=p(de),ne=p(),se=p(),re=p(),ue=p(),B=p(),me=p(oe),ce=p(de),pe=p(oe),ve=p(de),fe=p(),O=p(!1),je=()=>{I.value===void 0||I.value===null||(I.value=I.value.filter(e=>{var o;return e.options=(o=e.options)==null?void 0:o.filter(m=>"id"in m&&m.id!==void 0&&m.id!==null),"id"in e&&e.id!==void 0&&e.id!==null}))},we=()=>{var m,u,f,w,A,r;let e;switch(_.value){case g.Api.HubriseServiceType.DELIVERY:e=ge(te.value,ie.value,(u=(m=T.value)==null?void 0:m.timezone)==null?void 0:u.name);break;case g.Api.HubriseServiceType.COLLECTION:e=ge(me.value,ce.value,(w=(f=T.value)==null?void 0:f.timezone)==null?void 0:w.name);break;case g.Api.HubriseServiceType.EAT_IN:e=ge(pe.value,ve.value,(r=(A=T.value)==null?void 0:A.timezone)==null?void 0:r.name);break}const o={first_name:J.value,last_name:Q.value,company_name:x.value,email:le.value,email_marketing:ae.value,phone:R.value,sms_marketing:ee.value};return _.value===g.Api.HubriseServiceType.DELIVERY&&(o.address_1=ne.value,o.address_2=se.value,o.postal_code=ue.value,o.city=re.value,o.country=B.value),{service_type:_.value,table_name:fe.value??void 0,expected_time:e??void 0,customer:o,items:I.value,customer_notes:X.value,seller_notes:Z.value}},M=al(()=>new g.Api.TotalHubriseCalculator().calculateTotals(we(),g.Api.HubriseCurrencyCode.EUR)),Se=()=>{var o;const e=(o=T.value)==null?void 0:o.id;e!=null&&(O.value=!0,je(),q("orderpad/order",{method:"POST",body:{locationId:e,...we()},onResponseError({response:m}){O.value=!1,F(m)}}).then(m=>{var u;O.value=!1,alert(`Order ${(u=m.order)==null?void 0:u.ref} created!`),window.location.reload()}).catch(m=>{O.value=!1,Y(m)}))},Ie=e=>{if(typeof e=="object"&&e!==null)switch(_.value){case g.Api.HubriseServiceType.DELIVERY:return`${e.delivery}%`;case g.Api.HubriseServiceType.COLLECTION:return`${e.collection}%`;case g.Api.HubriseServiceType.EAT_IN:return`${e.eat_in}%`}return""},ze=()=>{var o,m,u,f,w,A;if(k.value===void 0||k.value===null)return;const e={};(u=(m=(o=k.value)==null?void 0:o.data)==null?void 0:m.categories)==null||u.forEach(r=>{e[r.id]=r.name}),D=((A=(w=(f=k.value)==null?void 0:f.data)==null?void 0:w.products)==null?void 0:A.map(r=>{var s,$;const b=r.ref??(((s=r.skus)==null?void 0:s.length)===1&&(!Array.isArray(r.skus[0].option_list_ids)||r.skus[0].option_list_ids.length===0)?r.skus[0].ref:null),t=(($=r.skus)==null?void 0:$.length)===1&&(!Array.isArray(r.skus[0].option_list_ids)||r.skus[0].option_list_ids.length===0)?r.skus[0].price:null;return{id:r.id,sku_ref:b,category:e[r.category_id],product_name:r.name,quantity:1,tax_rate:r.tax_rate,price:t,customer_notes:void 0}}).sort((r,b)=>{var t,s;return((t=r.category)==null?void 0:t.localeCompare(b.category??""))||((s=r.name)==null?void 0:s.localeCompare(b.name??""))}))??[],Ce=(D==null?void 0:D.filter(r=>r.sku_ref!==void 0&&r.sku_ref!==null))??[]},Be=()=>{var o,m,u,f,w,A;if(k.value===void 0||k.value===null)return;const e={};(u=(m=(o=k.value)==null?void 0:o.data)==null?void 0:m.option_lists)==null||u.forEach(r=>{e[r.id]=r}),E={},(A=(w=(f=k.value)==null?void 0:f.data)==null?void 0:w.products)==null||A.forEach(r=>{E[r.id]=[],!(!Array.isArray(r.skus)||r.skus.length===0||!Array.isArray(r.skus[0].option_list_ids)||r.skus[0].option_list_ids.length===0)&&(r.skus.forEach(b=>{if(Array.isArray(b.option_list_ids)&&b.option_list_ids.length>0)b.option_list_ids.forEach(t=>{const s=e[t];s!==void 0&&(!Array.isArray(s.options)||s.options.length===0||s.options.forEach($=>{const Ke=g.Api.HubrisePriceUtil.sum([b.price??null,$.price??null]);E[r.id].push({id:`${b.id}-${s.id}-${$.id}`,ref:$.ref??null,option_list_name:s.name,name:$.name,quantity:1,price:Ke})}))});else{const t=b.price??null;E[r.id].push({id:b.id,ref:b.ref??null,name:b.name,quantity:1,price:t})}}),E[r.id].sort((b,t)=>{var s;return(s=b.name)==null?void 0:s.localeCompare(t.name??"")}))}),W={},Object.keys(E).forEach(r=>{var b;W[r]=((b=E[r])==null?void 0:b.filter(t=>t.ref!==void 0&&t.ref!==null))??[]})},Ne=()=>{I.value.push({})},Me=e=>{const o=I.value.findIndex(m=>m===e);o>=0&&I.value.splice(o,1)},_e=e=>{Array.isArray(e.options)||(e.options=[]),e.options.push({})},Ge=(e,o)=>{const m=e.options.findIndex(u=>u===o);m>=0&&e.options.splice(m,1)},De=(e,o)=>{const m=D==null?void 0:D.find(u=>u.id===e);m!==void 0&&(g.Util.ObjectUtil.update(o,m),Array.isArray(E[e])&&E[e].length>0&&_e(o))},Pe=(e,o,m)=>{var f;const u=(f=E[e])==null?void 0:f.find(w=>w.id===o);u!==void 0&&g.Util.ObjectUtil.update(m,u)},Le=e=>{var o;[void 0,null,""].includes(e)||(K.value=(o=C.value)==null?void 0:o.find(m=>m.id===e))},Oe=e=>{[void 0,null,""].includes(e)||q(`orderpad/catalog?catalogId=${e}`,{method:"GET",onResponseError({response:o}){k.value=void 0,F(o)}}).then(o=>{k.value=o.catalog,ze(),Be()}).catch(o=>{k.value=void 0,Y(o)})},He=e=>{var o,m;[void 0,null,""].includes(e)||(T.value=(o=U.value)==null?void 0:o.find(u=>u.id===e),typeof((m=T.value)==null?void 0:m.country)=="string"&&(B.value=T.value.country),C.value=void 0,q(`orderpad/customers/list?locationId=${e}`,{method:"GET",onResponseError({response:u}){C.value=[],F(u)}}).then(u=>{var f;C.value=u.lists,((f=C.value)==null?void 0:f.length)===1&&Le(C.value[0].id)}).catch(u=>{C.value=[],Y(u)}),S.value=void 0,q(`orderpad/catalogs?locationId=${e}`,{method:"GET",onResponseError({response:u}){S.value=[],F(u)}}).then(u=>{var f;S.value=u.catalogs,((f=S.value)==null?void 0:f.length)===1&&Oe(S.value[0].id)}).catch(u=>{S.value=[],Y(u)}))},Re=e=>{const o=e.target;o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.isContentEditable||(e.key==="+"||e.key==="Add"||e.code==="NumpadAdd"||e.shiftKey&&(e.key==="="||e.code==="Equal"))&&Ne()};return ol(()=>{window.addEventListener("keydown",Re),U.value=void 0,q("orderpad/locations",{method:"GET",onResponseError({response:e}){U.value=[],F(e)}}).then(e=>{var o;U.value=e.locations,((o=U.value)==null?void 0:o.length)===1&&He(U.value[0].id)}).catch(e=>{U.value=[],Y(e)})}),dl(()=>{window.removeEventListener("keydown",Re)}),(e,o)=>{const m=el,u=xe,f=Qe,w=Je,A=Ze,r=tl("IconBtn"),b=Xe;return V(),j("div",null,[y("div",ul,[y("div",ml,[y("h4",cl,c(("$t"in e?e.$t:a(i))("page.order.add.title")),1),y("div",pl,c(("$t"in e?e.$t:a(i))("page.order.add.subtitle")),1)]),y("div",vl,[U.value!==null?(V(),N($e,{key:0,disabled:U.value===void 0,items:U.value,label:("$t"in e?e.$t:a(i))("page.order.add.button.location.label"),loading:U.value===void 0,placeholder:("$t"in e?e.$t:a(i))("page.order.add.button.location.placeholder"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",style:{width:"200px"},variant:"underlined","onUpdate:modelValue":He},null,8,["disabled","items","label","loading","placeholder"])):L("",!0),C.value!==null?(V(),N($e,{key:1,disabled:C.value===void 0,items:C.value,label:("$t"in e?e.$t:a(i))("page.order.add.button.customerList.label"),loading:C.value===void 0,placeholder:("$t"in e?e.$t:a(i))("page.order.add.button.customerList.placeholder"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",style:{width:"200px"},variant:"underlined","onUpdate:modelValue":Le},null,8,["disabled","items","label","loading","placeholder"])):L("",!0),S.value!==null?(V(),N($e,{key:2,disabled:S.value===void 0,items:S.value,label:("$t"in e?e.$t:a(i))("page.order.add.button.catalog.label"),loading:S.value===void 0,placeholder:("$t"in e?e.$t:a(i))("page.order.add.button.catalog.placeholder"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData",style:{width:"200px"},variant:"underlined","onUpdate:modelValue":Oe},null,8,["disabled","items","label","loading","placeholder"])):L("",!0),l(z,{color:"secondary",onclick:"window.location.reload()",variant:"tonal"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.button.discard")),1)]),_:1}),l(z,{disabled:!R.value||I.value.length===0,loading:O.value,onClick:Se},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])])]),l(h,{dense:""},{default:d(()=>[l(n,{cols:"12",md:"4"},{default:d(()=>[l(Ve,{disabled:!T.value||!K.value,loading:!T.value||!K.value,class:"mb-6 fill-height"},{default:d(()=>[l(he,null,{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.customer.title")),1)]),_:1}),l(Te,{class:"pb-0"},{default:d(()=>[l(h,{dense:""},{default:d(()=>[l(n,{cols:"12"},{default:d(()=>[l(m,{modelValue:R.value,"onUpdate:modelValue":o[0]||(o[0]=t=>R.value=t),items:[],label:("$t"in e?e.$t:a(i))("page.order.add.section.customer.phone.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.customer.phone.placeholder")},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12"},{default:d(()=>[l(Ye,{modelValue:ee.value,"onUpdate:modelValue":o[1]||(o[1]=t=>ee.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.customer.smsMarketing.label")},null,8,["modelValue","label"])]),_:1}),l(n,{cols:"12"},{default:d(()=>[l(m,{modelValue:le.value,"onUpdate:modelValue":o[2]||(o[2]=t=>le.value=t),items:[],label:("$t"in e?e.$t:a(i))("page.order.add.section.customer.email.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.customer.email.placeholder")},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12"},{default:d(()=>[l(Ye,{modelValue:ae.value,"onUpdate:modelValue":o[3]||(o[3]=t=>ae.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.customer.emailMarketing.label")},null,8,["modelValue","label"])]),_:1}),l(n,{cols:"12",md:"6"},{default:d(()=>[l(u,{modelValue:J.value,"onUpdate:modelValue":o[4]||(o[4]=t=>J.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.customer.firstName.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.customer.firstName.placeholder"),class:"mb-3"},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12",md:"6"},{default:d(()=>[l(u,{modelValue:Q.value,"onUpdate:modelValue":o[5]||(o[5]=t=>Q.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.customer.lastName.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.customer.lastName.placeholder"),class:"mb-3"},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12"},{default:d(()=>[l(u,{modelValue:x.value,"onUpdate:modelValue":o[6]||(o[6]=t=>x.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.customer.company.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.customer.company.placeholder"),class:"mb-3"},null,8,["modelValue","label","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(n,{cols:"12",md:"8"},{default:d(()=>[l(Ve,{disabled:!T.value,loading:!T.value,class:"action-card mb-6 fill-height"},{default:d(()=>[l(he,null,{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.action.title")),1)]),_:1}),l(Te,{class:"pb-0"},{default:d(()=>[l(h,{dense:""},{default:d(()=>[l(n,{cols:"12",md:"4"},{default:d(()=>[y("div",fl,[l(il,{modelValue:_.value,"onUpdate:modelValue":o[7]||(o[7]=t=>_.value=t),class:"v-tabs-pill",color:"primary",direction:"vertical"},{default:d(()=>[(V(),N(ke,{key:0,value:a(g.Api).HubriseServiceType.DELIVERY},{default:d(()=>[l(H,{class:"me-2",icon:"mdi-moped"}),y("div",bl,c(("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.title")),1)]),_:1},8,["value"])),(V(),N(ke,{key:1,value:a(g.Api).HubriseServiceType.COLLECTION},{default:d(()=>[l(H,{class:"me-2",icon:"bx-walk"}),y("div",gl,c(("$t"in e?e.$t:a(i))("page.order.add.section.action.pickup.title")),1)]),_:1},8,["value"])),(V(),N(ke,{key:2,value:a(g.Api).HubriseServiceType.EAT_IN},{default:d(()=>[l(H,{class:"me-2",icon:"ic-baseline-table-bar"}),y("div",$l,c(("$t"in e?e.$t:a(i))("page.order.add.section.action.eatin.title")),1)]),_:1},8,["value"]))]),_:1},8,["modelValue"])])]),_:1}),l(n,{cols:"12",md:"8"},{default:d(()=>[l(nl,{modelValue:_.value,"onUpdate:modelValue":o[20]||(o[20]=t=>_.value=t),touch:!1,class:"w-100"},{default:d(()=>[l(Ae,{value:a(g.Api).HubriseServiceType.DELIVERY},{default:d(()=>[y("div",yl,[l(h,null,{default:d(()=>[l(n,{cols:"6"},{default:d(()=>[l(f,{modelValue:te.value,"onUpdate:modelValue":o[8]||(o[8]=t=>te.value=t),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:G},label:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.date.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.date.placeholder")},null,8,["modelValue","config","label","placeholder"])]),_:1}),l(n,{cols:"6"},{default:d(()=>[l(f,{modelValue:ie.value,"onUpdate:modelValue":o[9]||(o[9]=t=>ie.value=t),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.time.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.time.placeholder")},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12"},{default:d(()=>[l(u,{modelValue:ne.value,"onUpdate:modelValue":o[10]||(o[10]=t=>ne.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.address1.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.address1.placeholder")},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12"},{default:d(()=>[l(u,{modelValue:se.value,"onUpdate:modelValue":o[11]||(o[11]=t=>se.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.address2.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.address2.placeholder")},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12",md:"6"},{default:d(()=>[l(u,{modelValue:re.value,"onUpdate:modelValue":o[12]||(o[12]=t=>re.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.city.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.city.placeholder")},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12",md:"6"},{default:d(()=>[l(u,{modelValue:ue.value,"onUpdate:modelValue":o[13]||(o[13]=t=>ue.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.zipcode.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.zipcode.placeholder"),type:"number"},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"12"},{default:d(()=>[l(w,{modelValue:B.value,"onUpdate:modelValue":o[14]||(o[14]=t=>B.value=t),items:a(qe),label:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.country.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.delivery.country.placeholder"),"item-title":"label","item-value":"code"},null,8,["modelValue","items","label","placeholder"])]),_:1})]),_:1})])]),_:1},8,["value"]),l(Ae,{value:a(g.Api).HubriseServiceType.COLLECTION},{default:d(()=>[y("div",Vl,[y("div",hl,[y("div",Tl,[l(f,{modelValue:me.value,"onUpdate:modelValue":o[15]||(o[15]=t=>me.value=t),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:G},label:("$t"in e?e.$t:a(i))("page.order.add.section.action.pickup.date.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.pickup.date.placeholder")},null,8,["modelValue","config","label","placeholder"])]),y("div",kl,[l(f,{modelValue:ce.value,"onUpdate:modelValue":o[16]||(o[16]=t=>ce.value=t),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(i))("page.order.add.section.action.pickup.time.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.pickup.time.placeholder")},null,8,["modelValue","label","placeholder"])])])])]),_:1},8,["value"]),l(Ae,{value:a(g.Api).HubriseServiceType.EAT_IN},{default:d(()=>[y("div",Al,[y("div",El,[y("div",Ul,[l(f,{modelValue:pe.value,"onUpdate:modelValue":o[17]||(o[17]=t=>pe.value=t),config:{enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",disable:G},label:("$t"in e?e.$t:a(i))("page.order.add.section.action.eatin.date.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.eatin.date.placeholder")},null,8,["modelValue","config","label","placeholder"])]),y("div",Cl,[l(f,{modelValue:ve.value,"onUpdate:modelValue":o[18]||(o[18]=t=>ve.value=t),config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},label:("$t"in e?e.$t:a(i))("page.order.add.section.action.eatin.time.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.eatin.time.placeholder")},null,8,["modelValue","label","placeholder"])])]),y("div",wl,[l(sl,{modelValue:fe.value,"onUpdate:modelValue":o[19]||(o[19]=t=>fe.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.action.eatin.table.label"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.action.eatin.table.placeholder"),variant:"underlined"},null,8,["modelValue","label","placeholder"])])])]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1}),l(n,{class:"pt-0 mt-0",cols:"12",md:"12"},{default:d(()=>[l(Ve,{disabled:!T.value||!k.value,loading:!T.value||!k.value},{default:d(()=>[l(he,null,{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.title")),1)]),_:1}),l(Te,null,{default:d(()=>[l(h,{dense:""},{default:d(()=>[l(n,{cols:"2",md:"2"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.reference")),1)]),_:1}),l(n,{cols:"2",md:"4"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.name")),1)]),_:1}),l(n,{cols:"2",md:"1"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.quantity")),1)]),_:1}),l(n,{cols:"2",md:"1"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.vat")),1)]),_:1}),l(n,{cols:"1",md:"1"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.price")),1)]),_:1}),l(n,{class:"text-center",cols:"2",md:"2"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.subtotal")),1)]),_:1}),l(n,{cols:"1",md:"1"})]),_:1}),(V(!0),j(ye,null,Fe(I.value,t=>(V(),j(ye,{key:t.id},[l(h,{dense:""},{default:d(()=>[l(n,{cols:"4",md:"2"},{default:d(()=>[t.sku_ref!==null?(V(),N(A,{key:0,modelValue:t.sku_ref,"onUpdate:modelValue":[s=>t.sku_ref=s,s=>De(s,t)],items:a(Ce),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.item.reference"),"item-title":"sku_ref","item-value":"id","no-data-text":"common.component.noData"},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):L("",!0)]),_:2},1024),l(n,{cols:"6",md:"4"},{default:d(()=>[l(A,{modelValue:t.product_name,"onUpdate:modelValue":[s=>t.product_name=s,s=>De(s,t)],items:a(D),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.item.name"),"item-title":"product_name","item-value":"id","no-data-text":"common.component.noData"},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(n,{cols:"2",md:"1"},{default:d(()=>[l(u,{modelValue:t.quantity,"onUpdate:modelValue":s=>t.quantity=s,clearable:!1,min:"1",placeholder:"1",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{class:"align-self-end",cols:"3",md:"1"},{default:d(()=>[v(c(Ie(t.tax_rate)),1)]),_:2},1024),l(n,{class:"align-self-end",cols:"3",md:"1"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(t.price)),1)]),_:2},1024),l(n,{class:"align-self-end text-center",cols:"3",md:"2"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(a(g.Api).HubrisePriceUtil.multiply(t.price,t.quantity))),1)]),_:2},1024),l(n,{class:"px-0",cols:"3",md:"1"},{default:d(()=>[l(r,{"x-small":"",onClick:s=>t.customer_notes=t.customer_notes===void 0?null:void 0},{default:d(()=>[l(H,{icon:"bx-edit"})]),_:2},1032,["onClick"]),l(r,{onClick:s=>Me(t)},{default:d(()=>[l(H,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),(V(!0),j(ye,null,Fe(t.options,s=>(V(),j("div",{key:s.ref},[l(h,{dense:""},{default:d(()=>[l(n,{class:"d-flex align-self-end",cols:"4",md:"2"},{default:d(()=>[l(Ee),s.ref!==null?(V(),N(A,{key:0,modelValue:s.ref,"onUpdate:modelValue":[$=>s.ref=$,$=>Pe(t.id,$,s)],items:a(W)[t.id],placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.item.reference"),"item-title":"ref","item-value":"id","no-data-text":"common.component.noData"},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])):L("",!0)]),_:2},1024),l(n,{class:"d-flex align-self-end",cols:"6",md:"4"},{default:d(()=>[l(Ee),l(A,{modelValue:s.name,"onUpdate:modelValue":[$=>s.name=$,$=>Pe(t.id,$,s)],items:a(E)[t.id],placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.item.name"),"item-title":"name","item-value":"id","no-data-text":"common.component.noData"},null,8,["modelValue","onUpdate:modelValue","items","placeholder"])]),_:2},1024),l(n,{class:"d-flex align-self-end",cols:"2",md:"1"},{default:d(()=>[l(u,{modelValue:s.quantity,"onUpdate:modelValue":$=>s.quantity=$,clearable:!1,min:"1",placeholder:"1",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(n,{class:"align-self-end",cols:"3",md:"1"},{default:d(()=>[v(c(Ie(t.tax_rate)),1)]),_:2},1024),l(n,{class:"align-self-end",cols:"3",md:"1"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(s.price)),1)]),_:2},1024),l(n,{class:"align-self-end text-center",cols:"3",md:"2"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(a(g.Api).HubrisePriceUtil.multiply(s.price,s.quantity))),1)]),_:2},1024),l(n,{cols:"3",md:"1"},{default:d(()=>[l(r,{onClick:$=>Ge(t,s)},{default:d(()=>[l(H,{icon:"bx-trash"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),l(h,{dense:""},{default:d(()=>[l(n,{cols:"0",md:"2"}),l(n,{cols:"12",md:"5"},{default:d(()=>{var s;return[((s=a(E)[t.id])==null?void 0:s.length)>0?(V(),N(z,{key:0,class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"x-small",onClick:$=>_e(t)},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.button.add.itemOption")),1)]),_:2},1032,["onClick"])):L("",!0)]}),_:2},1024),l(n,{cols:"12",md:"4"},{default:d(()=>[t.customer_notes!==void 0?(V(),N(b,{key:0,modelValue:t.customer_notes,"onUpdate:modelValue":s=>t.customer_notes=s,label:("$t"in e?e.$t:a(i))("page.order.add.section.item.itemNotes"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.item.itemNotes"),"auto-grow":"",counter:"",maxlength:"300",rows:"1"},null,8,["modelValue","onUpdate:modelValue","label","placeholder"])):L("",!0)]),_:2},1024),l(n,{cols:"0",md:"1"})]),_:2},1024)],64))),128)),l(h,{dense:""},{default:d(()=>[l(n,{cols:"12"},{default:d(()=>[l(z,{class:"mt-6",color:"secondary","prepend-icon":"bx-plus",size:"small",onClick:Ne},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.button.add.item")),1)]),_:1})]),_:1}),l(n,{class:"px-4 py-8",cols:"6",md:"3"},{default:d(()=>[l(b,{modelValue:X.value,"onUpdate:modelValue":o[21]||(o[21]=t=>X.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.item.customerNotes"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.item.customerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4"},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{class:"px-4 py-8",cols:"6",md:"3"},{default:d(()=>[l(Ee),l(b,{modelValue:Z.value,"onUpdate:modelValue":o[22]||(o[22]=t=>Z.value=t),label:("$t"in e?e.$t:a(i))("page.order.add.section.item.sellerNotes"),placeholder:("$t"in e?e.$t:a(i))("page.order.add.section.item.sellerNotes"),"auto-grow":"",counter:"",maxlength:"500",rows:"4"},null,8,["modelValue","label","placeholder"])]),_:1}),l(n,{cols:"0",md:"1"}),l(n,{cols:"12",md:"5"},{default:d(()=>[l(h,{dense:""},{default:d(()=>[l(n,{cols:"6",md:"5"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.subtotal")),1)]),_:1}),l(n,{class:"text-center",cols:"6",md:"4"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(a(M).subtotal)),1)]),_:1}),l(n,{cols:"0",md:"3"})]),_:1}),_.value===a(g.Api).HubriseServiceType.DELIVERY?(V(),N(h,{key:0,dense:""},{default:d(()=>[l(n,{cols:"6",md:"5"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.deliveryFee")),1)]),_:1}),l(n,{class:"text-center",cols:"6",md:"4"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(a(M).deliveryFee)),1)]),_:1}),l(n,{cols:"0",md:"3"})]),_:1})):L("",!0),l(h,{dense:""},{default:d(()=>[l(n,{cols:"6",md:"5"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.minimumOrderFee")),1)]),_:1}),l(n,{class:"text-center",cols:"6",md:"4"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(a(M).minimumOrderFee)),1)]),_:1}),l(n,{cols:"0",md:"3"})]),_:1}),l(h,{dense:""},{default:d(()=>[l(n,{cols:"6",md:"5"},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.section.item.total")),1)]),_:1}),l(n,{class:"text-center",cols:"6",md:"4"},{default:d(()=>[v(c(("displayPrice"in e?e.displayPrice:a(P))(a(M).total)),1)]),_:1}),l(n,{cols:"0",md:"3"})]),_:1}),l(h,{dense:""},{default:d(()=>[l(n,{cols:"12",md:"9"},{default:d(()=>[l(z,{disabled:!R.value||I.value.length===0,loading:O.value,class:"w-100",onClick:Se},{default:d(()=>[v(c(("$t"in e?e.$t:a(i))("page.order.add.button.create")),1)]),_:1},8,["disabled","loading"])]),_:1}),l(n,{cols:"0",md:"3"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["disabled","loading"])]),_:1})]),_:1})])}}}),Ta=rl(Sl,[["__scopeId","data-v-6431ba34"]]);export{Ta as default};
